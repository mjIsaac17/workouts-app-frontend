(this["webpackJsonpfrontend-workouts-app"]=this["webpackJsonpfrontend-workouts-app"]||[]).push([[0],{286:function(e,t){},383:function(e,t){},385:function(e,t){},396:function(e,t){},398:function(e,t){},425:function(e,t){},427:function(e,t){},428:function(e,t){},433:function(e,t){},435:function(e,t){},441:function(e,t){},443:function(e,t){},462:function(e,t){},474:function(e,t){},477:function(e,t){},482:function(e,t){},483:function(e,t){},486:function(e,t,n){},487:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(66),s=n.n(c),i=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,752)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},o=n(596),l=n(591),u="failureAction",d="clearMuscle",j="failureGetMuscles",b="setCurrentMuscle",m="successAddMuscle",x="successGetMuscles",O="successUpdateMuscle",p="successRemoveMuscle",h="successGetExercises",f="failureGetExercises",g="clearExercises",v="successAddExercise",y="setCurrentExercise",k="successUpdateExercise",w="successRemoveExercise",N="successLogin",C="finishRenewToken",S="clearUser",E="userSetCurrent",I="successAddUser",_="userSuccessGetRoles",U="successGetUsers",A="userSuccessUpdate",L="userSuccessDelete",W="successGetMyWorkouts",D="successAddWorkout",M="successGetWorkoutExercises",F="setCurrentWorkout",T="successUpdateWorkout",P="successRemoveWorkout",z="setSnackbar",R="setModal",B="setLoading",q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:z,payload:{type:e,message:t,open:n}}},G=n(13),J=n(1),V=function(){var e=Object(G.c)((function(e){return e.snackbar})),t=Object(G.b)(),n=function(n,a){"clickaway"!==a&&t(q(e.type,e.message,!1))};return Object(J.jsx)(o.a,{open:e.open,autoHideDuration:3e3,onClose:n,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(J.jsx)(l.a,{onClose:n,severity:e.type,elevation:6,variant:"filled",children:e.message})})},Y=n(43),H=n(32),X=n(19),K=n.n(X),Q=n(26),Z="https://workouts-app1.herokuapp.com/api",$=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat(Z,"/").concat(e);return"GET"===n?fetch(a):fetch(a,{method:n,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},ee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat(Z,"/").concat(e),r=localStorage.getItem("token")||"";return"GET"===n?fetch(a,{method:n,headers:{"x-token":r}}):fetch(a,{method:n,headers:{"Content-Type":"application/json","x-token":r},body:JSON.stringify(t)})},te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST",a="".concat(Z,"/").concat(e),r=localStorage.getItem("token")||"",c=new FormData;for(var s in t)c.append(s,t[s]);return fetch(a,{method:n,headers:{"x-token":r},body:c})},ne=1,ae=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Modal title",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:R,payload:{isOpen:e,header:t,componentName:n}}},re=function(e){return{types:u,payload:e}},ce=function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n){var a,r;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee("exercise/".concat(e));case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,n({type:h,payload:r}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),n((c=t.t0.message,{type:f,payload:c})),console.log(t.t0);case 14:case"end":return t.stop()}var c}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},se=function(e){return{type:v,payload:e}},ie=function(e){return{type:y,payload:e}},oe=function(e){return{type:k,payload:e}},le=function(e){return{type:w,payload:e}},ue="muscle",de=function(e){return{type:j,payload:e}},je=function(e){return{type:m,payload:e}},be=function(e){return{type:O,payload:e}},me=function(e){return{type:p,payload:e}},xe=function(e){return{type:N,payload:e}},Oe=function(){return{type:C}},pe=function(){return function(e){localStorage.clear(),e({type:S}),e({type:d}),e({type:g})}},he=n(3),fe=n(12),ge=n(7),ve=n(566),ye=n(567),ke=n(155),we=n(207),Ne=n(609),Ce=n(95),Se=function(){var e=Object(G.b)(),t=Object(a.useState)({email:"",password:""}),n=Object(ge.a)(t,2),r=n[0],c=n[1],s=function(e){c(Object(fe.a)(Object(fe.a)({},r),{},Object(he.a)({},e.target.name,e.target.value)))};return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)("div",{className:"flex-container center",children:Object(J.jsxs)("div",{className:"login-box",children:[Object(J.jsxs)("div",{className:"login-box__header",children:[Object(J.jsx)(ke.a,{variant:"h4",children:"Sign in"}),Object(J.jsx)(ke.a,{variant:"h6",color:"textSecondary",children:"Welcome back!"})]}),Object(J.jsx)("div",{className:"login-box__body",children:Object(J.jsxs)("form",{style:{display:"grid"},onSubmit:function(t){var n;t.preventDefault(),e((n=r,function(){var e=Object(Q.a)(K.a.mark((function e(t){var a,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$("user",n,"POST");case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,a.ok?(localStorage.setItem("token",r.token),r.role_id===ne?r.isAdmin=!0:r.isAdmin=!1,delete r.token,t(xe(r)),t(q("error","",!1))):t(q("error",r.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t(q("error",e.t0.message,!1)),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(J.jsxs)("div",{className:"space-elements-y--1",children:[Object(J.jsx)(we.a,{id:"txtLoginEmail",fullWidth:!0,label:"Email",name:"email",onChange:s,placeholder:"Email",type:"email",value:r.email,variant:"outlined",InputProps:{startAdornment:Object(J.jsx)(Ne.a,{position:"start",children:Object(J.jsx)(ve.a,{})})}}),Object(J.jsx)(we.a,{fullWidth:!0,id:"txtLoginPassword",label:"Password",name:"password",onChange:s,placeholder:"Password",type:"password",value:r.password,variant:"outlined",InputProps:{startAdornment:Object(J.jsx)(Ne.a,{position:"start",children:Object(J.jsx)(ye.a,{})})}})]}),Object(J.jsxs)("div",{className:"login-box__buttonArea",children:[Object(J.jsx)("div",{className:"login-box__buttonArea__item",children:Object(J.jsx)(Ce.a,{variant:"contained",size:"large",type:"submit",children:"Log in"})}),Object(J.jsx)("div",{className:"login-box__buttonArea__item",children:Object(J.jsx)(Y.b,{to:"/register",children:Object(J.jsx)(Ce.a,{variant:"contained",size:"large",color:"secondary",children:"Register"})})})]})]})})]})})})},Ee=n(598),Ie=n(599),_e=n(610),Ue=n(296),Ae=n.n(Ue),Le=function(){var e={name:"",lastname:"",email:"",password:""},t=Object(G.b)(),n=Object(a.useState)(e),r=Object(ge.a)(n,2),c=r[0],s=r[1];return Object(J.jsx)("div",{className:"flex-container center",children:Object(J.jsx)("div",{className:"login-box",children:Object(J.jsxs)(_e.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(J.jsx)(Ee.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(J.jsx)(Ae.a,{})}),Object(J.jsx)(ke.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(J.jsxs)(_e.a,{component:"form",noValidate:!0,onSubmit:function(n){n.preventDefault();var a,r=new FormData(n.currentTarget),c={name:r.get("name"),lastname:r.get("lastname"),email:r.get("email"),password:r.get("password"),confirmPassword:r.get("confirmPassword")};(function(t){var n=Object(fe.a)({},e),a=!0;return t.name||(n.name="Invalid name",a=!1),t.lastname||(n.lastname="Invalid last name",a=!1),t.email||(n.email="Invalid email",a=!1),t.password?t.password!==t.confirmPassword&&(n.password="The passwords are not the same",a=!1):(n.password="Invalid password",a=!1),s(n),a})(c)&&(delete c.confirmPassword,t((a=c,function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$("user/register",a,"POST");case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,n.ok?(localStorage.setItem("token",r.token),r.isAdmin=!1,delete r.token,t(xe(r)),t(q("error","",!1))):t(q("error",r.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t(q("error",e.t0.message,!1)),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())))},sx:{mt:3},children:[Object(J.jsxs)(Ie.a,{container:!0,spacing:2,children:[Object(J.jsx)(Ie.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(we.a,{name:"name",required:!0,fullWidth:!0,label:"First Name",helperText:c.name,error:!!c.name,autoFocus:!0})}),Object(J.jsx)(Ie.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(we.a,{required:!0,fullWidth:!0,label:"Last Name",name:"lastname",helperText:c.lastname,error:!!c.lastname})}),Object(J.jsx)(Ie.a,{item:!0,xs:12,children:Object(J.jsx)(we.a,{required:!0,fullWidth:!0,label:"Email Address",type:"email",name:"email",helperText:c.email,error:!!c.email})}),Object(J.jsx)(Ie.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(we.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",helperText:c.password,error:!!c.password})}),Object(J.jsx)(Ie.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(we.a,{required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm password",type:"password"})})]}),Object(J.jsx)(Ce.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(J.jsx)(Ie.a,{container:!0,justifyContent:"flex-end",children:Object(J.jsx)(Ie.a,{item:!0,children:Object(J.jsx)(Y.b,{to:"/login",children:"Already have an account? Sign in"})})})]})]})})})},We=n(581),De=n(209),Me=n(611),Fe=n(569),Te=n(570),Pe=n(607),ze=n(595),Re=n(568),Be=n(308),qe=function(){return Object(J.jsxs)("div",{className:"container",children:[Object(J.jsx)(ke.a,{variant:"h4",component:"h1",marginY:3,children:"About"}),Object(J.jsx)("p",{children:"Workouts App is a web application that provides information on exercises classified by muscle groups."}),Object(J.jsx)("p",{children:"You can create your own workouts by selecting the exercises you want!!"}),Object(J.jsx)("br",{}),Object(J.jsx)("hr",{}),Object(J.jsx)("br",{}),Object(J.jsx)("p",{children:"This app was made with the following technologies:"}),Object(J.jsx)("br",{}),Object(J.jsx)("b",{children:"Frontend"}),Object(J.jsxs)(Pe.a,{children:[Object(J.jsx)(ze.a,{children:Object(J.jsx)(Re.a,{primary:"HTML, CSS/SCSS"})}),Object(J.jsx)(ze.a,{children:Object(J.jsx)("a",{className:"link",href:"https://es.reactjs.org/",target:"_blank",rel:"noopener noreferrer",children:Object(J.jsx)(Re.a,{primary:"React JS"})})}),Object(J.jsx)(ze.a,{children:Object(J.jsx)("a",{className:"link",href:"https://mui.com/",target:"_blank",rel:"noopener noreferrer",children:Object(J.jsx)(Re.a,{primary:"Material UI v5.0.2"})})})]}),Object(J.jsx)("b",{children:"Backend & Database"}),Object(J.jsxs)(Pe.a,{children:[Object(J.jsx)(ze.a,{children:Object(J.jsx)(Re.a,{primary:"NodeJS - Express"})}),Object(J.jsx)(ze.a,{children:Object(J.jsx)(Re.a,{primary:"SQL server"})})]}),Object(J.jsx)("hr",{}),Object(J.jsx)("br",{}),Object(J.jsx)("b",{children:"Author info"}),Object(J.jsx)("p",{children:"Isaac Montes Jim\xe9nez"}),Object(J.jsxs)(Pe.a,{children:[Object(J.jsxs)(ze.a,{children:[Object(J.jsx)(Be.a,{children:Object(J.jsx)(Fe.a,{})}),Object(J.jsx)("a",{className:"link",href:"https://github.com/mjIsaac17/workouts-app-frontend",target:"_blank",rel:"noopener noreferrer",children:Object(J.jsx)(Re.a,{primary:"Github/mjIsaac17"})})]}),Object(J.jsxs)(ze.a,{children:[Object(J.jsx)(Be.a,{children:Object(J.jsx)(Te.a,{})}),Object(J.jsx)("a",{className:"link",href:"https://www.linkedin.com/in/isaac-montes-a75b85194/",target:"_blank",rel:"noopener noreferrer",children:Object(J.jsx)(Re.a,{primary:"Linkedin"})})]})]}),Object(J.jsx)("br",{}),Object(J.jsx)("br",{}),Object(J.jsx)("br",{})]})},Ge=n(577),Je=n(578),Ve=n(132),Ye=n(208),He=n(154),Xe=n(62),Ke="MuscleList",Qe="MuscleItem",Ze="ExerciseList",$e="ExerciseItem",et="WorkoutsAdd",tt="WorkoutsUpdate",nt="WorkoutsDelete",at="WorkoutsExercise",rt="usersAdd",ct="userEdit",st="userDelete",it=n(571),ot=function(e){var t=e.children,n=e.modalSize,r=void 0===n?"sm":n,c=Object(G.b)(),s=Object(G.c)((function(e){return e.modal})),i=s.isOpen,o=s.header,l=i?"modal display-block":"modal display-none";return Object(a.useEffect)((function(){return document.body.classList.add("remove-scrollbar"),function(){document.body.classList.remove("remove-scrollbar")}}),[]),Object(J.jsx)("div",{className:l,children:Object(J.jsxs)("div",{className:"modal__container modal--".concat(r),children:[Object(J.jsxs)("div",{className:"modal__header",children:[Object(J.jsx)("p",{children:o}),Object(J.jsx)("button",{type:"button",className:"closeModal",onClick:function(){c(ae(!1,""))},children:Object(J.jsx)(it.a,{})})]}),Object(J.jsx)("div",{className:"modal__body",children:t})]})})},lt=n(572),ut=n(590),dt=n(145),jt=n.n(dt),bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(ge.a)(t,2),r=n[0],c=n[1],s=function(e){var t=e.target;c(Object(fe.a)(Object(fe.a)({},r),{},Object(he.a)({},t.name,t.value)))},i=function(e,t){c(Object(fe.a)(Object(fe.a)({},r),{},Object(he.a)({},e,t)))},o=function(e){c(Object(fe.a)({},e))},l=function(){c(e)};return[r,s,i,o,l]},mt=r.a.memo((function(e){var t=e.id,n=e.name,r=e.currentImageName,c=e.onChangeFunction,s=Object(a.useState)(r||"No image selected"),i=Object(ge.a)(s,2),o=i[0],l=i[1];return Object(J.jsx)("div",{className:"m-y--1",children:Object(J.jsx)("label",{htmlFor:n,children:Object(J.jsxs)(lt.a,{direction:{xs:"column",sm:"row"},alignItems:"center",children:[Object(J.jsx)("input",{id:t,name:n,onChange:function(e){l(e.target.files[0].name),c&&c()},type:"file",style:{display:"none"}}),Object(J.jsx)(Ce.a,{variant:"contained",color:"info",component:"span",size:"small",sx:{marginRight:"1rem"},children:"New Image"}),Object(J.jsx)(Ye.a,{children:o})]})})})})),xt=function(e){var t=e.muscleList,n=e.muscleId,r=void 0===n?0:n,c=e.handleModal,s=Object(G.b)(),i=Object(a.useState)(!1),o=Object(ge.a)(i,2),l=o[0],u=o[1],d=bt({name:"",description:"",muscleId:r,image:null}),j=Object(ge.a)(d,3),b=j[0],m=j[1],x=j[2];return Object(J.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),(b.name?0===b.muscleId?(s(q("error","Select a valid muscle",!0)),0):document.getElementById("image").files[0]||(s(q("error","Select an image",!0)),0):(s(q("error","Invalid exercise name",!0)),0))&&(u(!0),s((t=b,function(){var e=Object(Q.a)(K.a.mark((function e(n){var a,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te("exercise",t);case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,a.ok?(t.id=r.exerciseId,t.imageName=r.imageName,t.imageUrl=r.imageUrl,delete t.image,n(se(t)),n(q("success","Exercise added",!0))):n(q("error",r.error,!0)),n(ae(!1)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),n(re(e.t0.message)),n(q("error",e.t0.message,!0)),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())))},children:[Object(J.jsxs)("div",{className:"flex-box space-between space-elements-y--1 ",children:[Object(J.jsx)(we.a,{className:"w49",size:"small",name:"name",required:!0,label:"Exercise name",onChange:m}),Object(J.jsxs)(Ve.a,{className:"w49",children:[Object(J.jsx)(Ye.a,{id:"labelExerciseId",children:"Muscle"}),Object(J.jsxs)(He.a,{id:"ddlMuscleAddExercise",value:b.muscleId,labelId:"labelExerciseId",label:"Muscle",onChange:function(e){return x("muscleId",e.target.value)},size:"small",name:"muscleId",children:[0===r&&Object(J.jsx)(Xe.a,{value:r,children:"Select a muscle"},"ddlMuscleAddExercise-0"),t.map((function(e){return Object(J.jsx)(Xe.a,{value:e.id,children:e.name},"ddlMuscleAddExercise-".concat(e.id))}))]})]})]}),Object(J.jsx)(we.a,{sx:{margin:"0.5rem 0"},size:"small",name:"description",fullWidth:!0,label:"Description",multiline:!0,rows:"3",onChange:m}),Object(J.jsx)(mt,{id:"image",name:"image",onChangeFunction:function(){var e=document.getElementById("image").files[0];x("image",e)}}),Object(J.jsxs)(lt.a,{direction:"row",spacing:2,justifyContent:"flex-end",className:"m-t--2",children:[Object(J.jsx)(Ce.a,{variant:"contained",color:"info",onClick:function(){return c(!1,"")},children:"Cancel"}),Object(J.jsx)(ut.a,{color:"success",endIcon:Object(J.jsx)(jt.a,{}),loading:l,loadingPosition:"end",type:"submit",variant:"contained",children:"Save"})]})]})},Ot=function(e){var t=e.exerciseList,n=Object(G.b)(),r=Object(G.c)((function(e){return e.exercises})).current,c=Object(a.useState)(t.findIndex((function(e){return e.id===r.id}))),s=Object(ge.a)(c,2),i=s[0],o=s[1],l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next",a={};"next"===e?t[i+1]?(a=t[i+1],o(i+1)):(a=t[0],o(0)):t[i-1]?(a=t[i-1],o(i-1)):(a=t[t.length-1],o(t.length-1)),n(ie(a))};return r?Object(J.jsxs)("div",{className:"modal-details",children:[Object(J.jsx)("button",{type:"button",className:"btn__navigation btn__navigation--previous",onClick:function(){return l("previous")},children:"<"}),Object(J.jsx)("button",{type:"button",className:"btn__navigation btn__navigation--next",onClick:function(){return l("next")},children:">"}),Object(J.jsx)("div",{className:"modal-details__image-section",children:Object(J.jsx)("img",{onClick:function(){r.imageUrl&&window.open(r.imageUrl,"_blank")},className:"image",src:r.imageUrl?r.imageUrl:"".concat("/workouts-app-frontend","/img/default.jpg"),alt:r.imageName})}),Object(J.jsxs)("div",{className:"modal-details__form-section",children:[Object(J.jsxs)("div",{style:{height:"100%"},children:[""!==r.description&&Object(J.jsx)("div",{className:"details details__description",children:Object(J.jsx)(ke.a,{children:r.description})}),Object(J.jsx)("div",{className:"details",children:Object(J.jsxs)(ke.a,{children:["Category: ",r.muscleName]})})]}),Object(J.jsx)(lt.a,{direction:"row",justifyContent:"flex-end",children:Object(J.jsx)(Ce.a,{variant:"contained",color:"info",onClick:function(){return n(ae(!1,""))},size:"small",children:"Close"})})]})]}):Object(J.jsx)("p",{children:"Loading ... "})},pt=function(e){var t=e.exercise;return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("div",{className:"card card--sm",children:[Object(J.jsx)("img",{src:t.imageUrl?t.imageUrl:"".concat("/workouts-app-frontend","/img/default.jpg"),alt:t.imageName}),Object(J.jsx)("div",{className:"card__title",children:Object(J.jsx)("p",{children:t.name})})]})})},ht=n(573),ft=n(94),gt=n(204),vt=n.n(gt),yt={top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},kt={sz:"18",bold:!0},wt={font:{sz:"14"},border:yt},Nt={columns:[{title:"Exercise",width:{wpx:200},style:{font:kt,border:yt}},{title:"Muscle",width:{wpx:200},style:{font:kt,border:yt}},{title:"Description",width:{wpx:300},style:{font:kt,border:yt}}],data:[{value:"name",style:wt},{value:"muscleName",style:wt},{value:"description",style:Object(fe.a)(Object(fe.a)({},wt),{},{alignment:{wrapText:!0}})}]},Ct=vt.a.ExcelFile,St=vt.a.ExcelFile.ExcelSheet,Et=function(e){var t=e.dataSource,n=e.data,a=e.fileName,r=e.sheetName,c=Object(G.b)(),s={};switch(t){case"exercises":s=Nt}var i=[{columns:s.columns.map((function(e){return{title:e.title,width:e.width,style:e.style}})),data:n.map((function(e){return s.data.map((function(t){var n=t.value,a=t.style;return{value:e[n],style:a}}))}))}];return Object(J.jsx)(J.Fragment,{children:n.length>0?Object(J.jsx)(Ct,{element:Object(J.jsx)(De.a,{title:"Export to Excel",children:Object(J.jsx)(ft.a,{"aria-label":"export to excel",color:"success",children:Object(J.jsx)(ht.a,{})})}),filename:a,children:Object(J.jsx)(St,{dataSet:i,name:r})}):Object(J.jsx)(De.a,{title:"Export to Excel",onClick:function(){c(q("info","There is no data to export",!0))},children:Object(J.jsx)(ft.a,{"aria-label":"export to excel",color:"success",children:Object(J.jsx)(ht.a,{})})})})},It=n(299),_t=n(574),Ut=function(e){var t=e.exercises,n=e.totalExercises,r=e.fileName,c=Object(G.b)(),s=Object(a.useState)(!1),i=Object(ge.a)(s,2),o=i[0],l=i[1],u=function(e){return new Promise((function(t){var n=new Image;n.onload=function(){return t(n)},n.src=e.imageUrl}))};return Object(J.jsx)(De.a,{title:"Export to PDF",children:Object(J.jsxs)(ft.a,{"aria-label":"export to pdf",color:"error",onClick:function(){if(n>0){l(!0);var e=new It.a("p","mm","a4");Promise.all(t.map(u)).then((function(a){a.forEach((function(a,r){var c=t[r];e.setFont("helvetica","bold"),e.setFontSize(22),e.text(c.name,20,20),e.setFontSize(16),e.setFont("helvetica","normal"),e.text(c.description,20,40);var s=a.height,i=a.width,o=s/i;(s>190||i>170)&&(s>i?i=(s=190)*(1/o):i>s&&(s=(i=170)*o)),e.addImage(a,c.imageName.split(".").at(-1),20,55,i,s),r<n-1&&e.addPage("a4","p")})),e.save("".concat(r,".pdf")),l(!1)})).catch((function(e){c(q("error","It was not possible to export the data to PDF",!0)),l(!1)}))}else c(q("info","There is no data to export",!0))},disabled:o,children:[Object(J.jsx)(_t.a,{}),o&&Object(J.jsxs)("div",{className:"lds-ring",children:[Object(J.jsx)("div",{}),Object(J.jsx)("div",{}),Object(J.jsx)("div",{}),Object(J.jsx)("div",{})]})]})})},At=n(575),Lt=n(576),Wt=function(e){var t=e.children,n=e.handleDelete,a=e.handleCancel;return Object(J.jsxs)(J.Fragment,{children:[t,Object(J.jsxs)(lt.a,{direction:"row",spacing:2,justifyContent:"flex-end",className:"m-t--2",children:[Object(J.jsx)(Ce.a,{variant:"contained",color:"info",onClick:a,children:"Cancel"}),Object(J.jsx)(Ce.a,{variant:"contained",endIcon:Object(J.jsx)(At.a,{}),color:"error",onClick:n,children:"Accept"})]})]})},Dt=function(e){var t=e.muscleId,n=void 0===t?0:t,r=e.exerciseList,c=Object(G.b)(),s=Object(G.c)((function(e){return e.exercises})).current,i=Object(a.useState)(!1),o=Object(ge.a)(i,2),u=o[0],d=o[1],j=Object(a.useState)(!1),b=Object(ge.a)(j,2),m=b[0],x=b[1],O=Object(a.useState)(r.findIndex((function(e){return e.id===s.id}))),p=Object(ge.a)(O,2),h=p[0],f=p[1],g=bt(Object(fe.a)(Object(fe.a)({},s),{},{muscleId:0!==n?n:s.muscleId,newImage:null})),v=Object(ge.a)(g,4),y=v[0],k=v[1],w=v[2],N=v[3],C=JSON.parse(localStorage.getItem("muscleList")),S="newImage",E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next",t={};"next"===e?r[h+1]?(t=r[h+1],f(h+1)):(t=r[0],f(0)):r[h-1]?(t=r[h-1],f(h-1)):(t=r[r.length-1],f(r.length-1)),c(ie(t)),N(Object(fe.a)(Object(fe.a)({},y),t))};return u?Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Wt,{handleCancel:function(){d(!1)},handleDelete:function(){var e,t;c((e=y.id,t=y.imageUrl,function(){var n=Object(Q.a)(K.a.mark((function n(a){var r,c;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ee("exercise/".concat(e),{imageUrl:t},"DELETE");case 3:if(!(r=n.sent).ok){n.next=9;break}a(le(e)),a(q("success","Exercise deleted",!0)),n.next=13;break;case 9:return n.next=11,r.json();case 11:c=n.sent,a(q("error",c.error,!0));case 13:a(ae(!1)),n.next=21;break;case 16:n.prev=16,n.t0=n.catch(0),a(re(n.t0.message)),a(q("error",n.t0.message,!0)),console.log(n.t0);case 21:case"end":return n.stop()}}),n,null,[[0,16]])})));return function(e){return n.apply(this,arguments)}}()))},children:Object(J.jsxs)(l.a,{severity:"warning",children:["Are you sure you want to delete the exercise ",Object(J.jsx)("b",{children:s.name}),"?"]})})}):Object(J.jsxs)("form",{onSubmit:function(e){var t,a;e.preventDefault(),(y.name||(c(q("error","Invalid exercise name",!0)),0))&&(x(!0),c((t=y,a=n,function(){var e=Object(Q.a)(K.a.mark((function e(n){var r,c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te("exercise/".concat(t.id),t,"PUT");case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,r.ok?(delete t.newImage,t.muscleId===a||0===a?(t.imageName=c.imageName,t.imageUrl=c.imageUrl,n(oe(t))):n(le(t.id)),n(q("success","Exercise updated",!0))):n(q("error",c,!0)),n(ae(!1)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),n(re(e.t0.message)),n(q("error",e.t0.message,!0)),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())))},className:"modal-details",children:[Object(J.jsx)("button",{type:"button",className:"btn__navigation btn__navigation--previous",onClick:function(){return E("previous")},children:"<"}),Object(J.jsx)("button",{type:"button",className:"btn__navigation btn__navigation--next",onClick:function(){return E("next")},children:">"}),Object(J.jsx)("div",{className:"modal-details__image-section",children:Object(J.jsx)("img",{onClick:function(){y.imageUrl&&window.open(y.imageUrl,"_blank")},className:"image",src:(null===y||void 0===y?void 0:y.imageUrl)?y.imageUrl:"".concat("/workouts-app-frontend","/img/default.jpg"),alt:y.imageName})}),Object(J.jsxs)("div",{className:"modal-details__form-section",children:[Object(J.jsxs)("div",{children:[Object(J.jsx)(we.a,{size:"small",label:"Exercise Name",fullWidth:!0,name:"name",onChange:k,value:y.name}),Object(J.jsx)(we.a,{sx:{margin:"1rem 0"},size:"small",name:"description",fullWidth:!0,label:"Description",multiline:!0,rows:"3",onChange:k,value:y.description}),Object(J.jsxs)(Ve.a,{fullWidth:!0,children:[Object(J.jsx)(Ye.a,{id:"labelMuscleId",children:"Muscle"}),Object(J.jsx)(He.a,{id:"ddlMuscleAddExercise",labelId:"labelMuscleId",label:"Muscle",size:"small",value:y.muscleId,onChange:k,name:"muscleId",children:C.map((function(e){return Object(J.jsx)(Xe.a,{value:e.id,children:e.name},"ddlMuscles-".concat(e.id))}))})]}),Object(J.jsx)(mt,{name:S,id:S,onChangeFunction:function(){w(S,document.getElementById(S).files[0])}})]}),Object(J.jsxs)(lt.a,{direction:"row",justifyContent:"space-between",children:[Object(J.jsx)(Ce.a,{variant:"contained",endIcon:Object(J.jsx)(At.a,{}),color:"error",size:"small",onClick:function(){return d(!0)},children:"Delete"}),Object(J.jsxs)(lt.a,{direction:"row",spacing:2,children:[Object(J.jsx)(Ce.a,{variant:"contained",color:"info",onClick:function(){return c(ae(!1,""))},size:"small",children:"Close"}),Object(J.jsx)(ut.a,{color:"success",endIcon:Object(J.jsx)(Lt.a,{}),loading:m,loadingPosition:"end",variant:"contained",type:"submit",size:"small",children:"Save"})]})]})]})]})},Mt=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.modal})),n=Object(G.c)((function(e){return e.auth.user})).isAdmin,r=Object(G.c)((function(e){return e.muscles.current})),c=Object(G.c)((function(e){return e.exercises})),s=c.exerciseList,i=c.loading,o=Object(a.useState)(r?r.name:"All"),l=Object(ge.a)(o,2),u=l[0],d=l[1],j=Object(a.useState)(r?r.id:0),b=Object(ge.a)(j,2),m=b[0],x=b[1],O=Object(a.useState)(""),p=Object(ge.a)(O,2),h=p[0],f=p[1],g=Object(a.useState)(s.length),v=Object(ge.a)(g,2),y=v[0],k=v[1],w=function(t,n,a){e(ae(t,n,a))},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=0;return s.map((function(n){return-1!==n.name.search(new RegExp(e,"i"))&&t++})),t},C=JSON.parse(localStorage.getItem("muscleList"));return Object(a.useEffect)((function(){e(ce(m))}),[e,m]),Object(a.useEffect)((function(){k(s.length)}),[s,k]),Object(J.jsx)("div",{children:i?Object(J.jsx)("h1",{children:"Loading..."}):Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)("div",{className:"flex-box space-between m-y--1 space-elements-y--1",children:[Object(J.jsxs)(Ve.a,{children:[Object(J.jsx)(Ye.a,{id:"lblSelectMuscle",children:"Muscle"}),Object(J.jsxs)(He.a,{id:"ddlMuscle",value:m,label:"Muscle",labelId:"lblSelectMuscle",onChange:function(e){var t=e.target.value;x(t),d(0===t?"All":C.find((function(e){return e.id===t})).name)},size:"small",children:[Object(J.jsx)(Xe.a,{value:0,name:"All",children:"All"}),C.map((function(e){return Object(J.jsx)(Xe.a,{value:e.id,children:e.name},"ddlMuscle-".concat(e.id))}))]})]}),Object(J.jsx)(we.a,{size:"small",label:"Search",onChange:function(e){var t=e.target.value.replace(/\\/g,"\\\\");f(t),k(""!==t?N(t):s.length)},placeholder:"Filter exercises",variant:"outlined",InputProps:{startAdornment:Object(J.jsx)(Ne.a,{position:"end",children:Object(J.jsx)(Ge.a,{})})}})]}),Object(J.jsxs)("div",{className:"flex-box space-between",children:[Object(J.jsx)(ke.a,{variant:"h5",component:"p",children:"Results:"}),Object(J.jsxs)(ke.a,{variant:"h5",component:"p",children:[y>0?y:0," Exercise(s) found"]})]}),Object(J.jsxs)("div",{className:"export-data-buttons-area",children:[Object(J.jsx)(Et,{dataSource:"exercises",data:s,fileName:"".concat(u," exercises"),sheetName:"".concat(u," exercises")}),Object(J.jsx)(Ut,{exercises:s,totalExercises:y,fileName:"".concat(u," exercises")})]}),Object(J.jsx)("div",{className:"card-grid-container",children:s.map((function(t){return-1!==t.name.search(new RegExp(h,"i"))&&Object(J.jsx)("div",{onClick:function(){return function(t){e(ie(t)),e(ae(!0,t.name,$e))}(t)},children:Object(J.jsx)(pt,{exercise:t})},t.name+t.id)}))}),n&&Object(J.jsx)(De.a,{title:"Add new exercise",children:Object(J.jsx)(Me.a,{sx:{position:"fixed",bottom:function(e){return e.spacing(2)},right:function(e){return e.spacing(2)}},color:"primary","aria-label":"add-exercise",onClick:function(){return w(!0,"Add new exercise",Ze)},children:Object(J.jsx)(Je.a,{})})}),t.componentName===Ze&&Object(J.jsx)(ot,{children:Object(J.jsx)(xt,{muscleList:C,muscleId:m,handleModal:w})}),t.componentName===$e&&Object(J.jsx)(ot,{modalSize:"md",children:n?Object(J.jsx)(Dt,{muscleId:m,componentModalName:$e,exerciseList:s}):Object(J.jsx)(Ot,{exerciseList:s})})]})})},Ft=function(){var e=Object(G.b)(),t=Object(a.useState)(""),n=Object(ge.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),i=Object(ge.a)(s,2),o=i[0],l=i[1];return Object(J.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n,a=document.getElementById("muscleName").value.trim(),r=document.getElementById("image").files[0];a?r?(l(!0),e((n={name:a,image:r},function(){var e=Object(Q.a)(K.a.mark((function e(t){var a,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te(ue,n);case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,a.ok?(n.id=r.muscleId,n.imageUrl=r.imageUrl,n.imageName=r.imageName,delete n.image,t(je(n)),t(q("success","Muscle added",!0))):t(q("error",r.error,!0)),t(ae(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),t(q("error",e.t0.message,!0)),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))):e(q("error","The image is required",!0)):c("Invalid muscle name")},children:[Object(J.jsx)(we.a,{size:"small",id:"muscleName",name:"muscleName",required:!0,fullWidth:!0,label:"Muscle name",helperText:r,error:!!r,autoFocus:!0}),Object(J.jsx)("div",{className:"m-y--1",children:Object(J.jsx)(mt,{id:"image",name:"image"})}),Object(J.jsxs)(lt.a,{direction:"row",spacing:2,justifyContent:"flex-end",className:"m-t--2",children:[Object(J.jsx)(Ce.a,{variant:"contained",color:"info",onClick:function(){return e(ae(!1))},children:"Cancel"}),Object(J.jsx)(ut.a,{loading:o,loadingPosition:"end",variant:"contained",endIcon:Object(J.jsx)(jt.a,{}),color:"success",type:"submit",children:"Save"})]})]})},Tt=function(e){var t=e.muscle,n=e.editMode,a=void 0!==n&&n,r=e.onMuscleCardClick;return Object(J.jsx)("div",{className:"card card--md",onClick:function(){return r(t)},children:a?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("img",{src:t.imageUrl?t.imageUrl:"".concat("/workouts-app-frontend","/img/default.jpg"),alt:t.imageName}),Object(J.jsx)("div",{className:"card__title",children:Object(J.jsx)("p",{children:t.name})})]}):Object(J.jsxs)(Y.b,{to:"/exercises",children:[Object(J.jsx)("img",{src:t.imageUrl?t.imageUrl:"".concat("/workouts-app-frontend","/img/default.jpg"),alt:t.imageName}),Object(J.jsx)("div",{className:"card__title",children:Object(J.jsx)("p",{children:t.name})})]})})},Pt=n(579),zt=n(563),Rt=n(600),Bt=n(502),qt=n(594),Gt=n(608),Jt=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.muscles.current})),n=Object(a.useState)(""),r=Object(ge.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(!1),o=Object(ge.a)(i,2),l=o[0],u=o[1],d=Object(a.useState)(null),j=Object(ge.a)(d,2),b=j[0],m=j[1],x=Object(a.useState)(!1),O=Object(ge.a)(x,2),p=O[0],h=O[1],f=Object(a.useState)(t.name),g=Object(ge.a)(f,2),v=g[0],y=g[1],k=function(){h(!p),e(ae(!0,p?"Edit muscle":'Delete muscle "'.concat(t.name,'"'),Qe))};return p?Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Wt,{handleCancel:k,handleDelete:function(){null!==b?e(function(e,t,n){return function(){var a=Object(Q.a)(K.a.mark((function a(r){var c,s,i;return K.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ee("".concat(ue,"/").concat(e),{imageUrl:t,deleteExercises:n},"DELETE");case 3:if(!(c=a.sent).ok){a.next=10;break}r(me(e)),r(q("success","Muscle deleted",!0)),r(ae(!1)),a.next=15;break;case 10:return a.next=12,c.json();case 12:s=a.sent,i=s.error,r(q("error",i,!0));case 15:a.next=21;break;case 17:a.prev=17,a.t0=a.catch(0),console.log(a.t0),r(q("error",a.t0.message,!0));case 21:case"end":return a.stop()}}),a,null,[[0,17]])})));return function(e){return a.apply(this,arguments)}}()}(t.id,t.imageUrl,b)):s("Select an option")},children:Object(J.jsxs)(Ve.a,{component:"fieldset",error:!!c,children:[Object(J.jsxs)(zt.a,{component:"legend",children:['Delete all exercises associated with "',t.name,'"?']}),Object(J.jsxs)(Rt.a,{row:!0,"aria-label":"delete muscle exercises",onChange:function(e){"true"===e.target.value?m(!0):m(!1),s("")},children:[Object(J.jsx)(Bt.a,{id:"fclDeleteExercisesNo",value:!1,control:Object(J.jsx)(qt.a,{}),label:"No"}),Object(J.jsx)(Bt.a,{id:"fclDeleteExercisesYes",value:!0,control:Object(J.jsx)(qt.a,{}),label:"Yes"})]}),Object(J.jsx)(Gt.a,{children:c})]})})}):Object(J.jsxs)("form",{onSubmit:function(n){if(n.preventDefault(),v.trim()){u(!0);var a,r=document.getElementById("image").files[0];t.name=v.trim(),t.newImage=r,e((a=t,function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te("".concat(ue,"/").concat(a.id),a,"PUT");case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,n.ok?(a.newImage&&(a.imageUrl=r.imageUrl,a.imageName=r.imageName,delete a.newImage),t(be(a)),t(q("success","Muscle updated",!0)),t(ae(!1))):t(q("error",r.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t(q("error",e.t0.message,!0));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))}else s("Invalid muscle name")},className:"modal-details",children:[Object(J.jsx)("div",{className:"modal-details__image-section",children:Object(J.jsx)("img",{onClick:function(){return window.open(t.imageUrl,"_blank")},src:t.imageUrl?t.imageUrl:"".concat("/workouts-app-frontend","/img/default.jpg"),alt:t.imageName})}),Object(J.jsxs)("div",{className:"modal-details__form-section",children:[Object(J.jsxs)("div",{children:[Object(J.jsx)(we.a,{size:"small",id:"muscleName",name:"muscleName",required:!0,fullWidth:!0,value:v,onChange:function(e){return y(e.target.value)},label:"Muscle name",helperText:c,error:!!c,autoFocus:!0}),Object(J.jsx)(mt,{id:"image",name:"image",currentImageName:t.imageName})]}),Object(J.jsxs)(lt.a,{direction:"row",justifyContent:"space-between",spacing:2,children:[Object(J.jsx)(Ce.a,{variant:"contained",endIcon:Object(J.jsx)(At.a,{}),color:"error",size:"small",onClick:function(){return k()},children:"Delete"}),Object(J.jsxs)(lt.a,{direction:"row",spacing:2,children:[Object(J.jsx)(Ce.a,{variant:"contained",color:"info",onClick:function(){return e(ae(!1))},size:"small",children:"Cancel"}),Object(J.jsx)(ut.a,{loading:l,loadingPosition:"end",variant:"contained",endIcon:Object(J.jsx)(Lt.a,{}),color:"success",type:"submit",size:"small",children:"Update"})]})]})]})]})},Vt=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.muscles})),n=t.muscleList,r=t.loading,c=Object(G.c)((function(e){return e.auth.user})).isAdmin,s=Object(G.c)((function(e){return e.modal})),i=Object(a.useState)(!1),o=Object(ge.a)(i,2),l=o[0],u=o[1];Object(a.useEffect)((function(){0===n.length&&e(function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$(ue);case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,n.ok?t({type:x,payload:a}):t(de(a.error)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t(de(e.t0.message)),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[e,n]),Object(a.useEffect)((function(){n.length>0&&localStorage.setItem("muscleList",JSON.stringify(n))}),[n]);var d=l?{color:"white",bgcolor:"#FE4343","&:hover":{bgcolor:"#DF0000"}}:{color:"white",bgcolor:"#109EB4","&:hover":{bgcolor:"#1087B4"}},j=function(t){e({type:b,payload:t}),l&&e(ae(!0,"Edit muscle",Qe))};return r?Object(J.jsx)("h1",{children:"Loading..."}):Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(ke.a,{variant:"h4",textAlign:"center",margin:3,children:"Muscles"}),Object(J.jsx)("div",{className:"card-grid-container",children:n.map((function(e){return Object(J.jsx)(Tt,{muscle:e,editMode:l,onMuscleCardClick:j},e.id)}))}),c&&Object(J.jsxs)(lt.a,{direction:"column",spacing:1,sx:{position:"fixed",bottom:function(e){return e.spacing(2)},right:function(e){return e.spacing(2)}},children:[Object(J.jsx)(De.a,{title:l?"Cancel editing":"Edit muscle",children:Object(J.jsx)(Me.a,{sx:Object(fe.a)({},d),"aria-label":"edit",onClick:function(){u(!l),e(q("info","Select a muscle to edit it",!l))},children:l?Object(J.jsx)(it.a,{}):Object(J.jsx)(Pt.a,{})})}),Object(J.jsx)(De.a,{title:"Add new muscle",children:Object(J.jsx)(Me.a,{color:"primary","aria-label":"edit",onClick:function(){return e(ae(!0,"Add new muscle",Ke))},children:Object(J.jsx)(Je.a,{})})})]}),s.componentName===Ke&&Object(J.jsx)(ot,{children:Object(J.jsx)(Ft,{})}),s.componentName===Qe&&Object(J.jsx)(ot,{modalSize:"md",children:Object(J.jsx)(Jt,{})})]})},Yt=function(e){return{type:E,payload:e}},Ht=function(e){return{type:L,payload:e}},Xt=n(300),Kt=n.n(Xt),Qt=function(e){var t=e.onClickFunction,n=e.tooltipText,a=void 0===n?"Add":n;return Object(J.jsx)(De.a,{title:a,children:Object(J.jsx)(Me.a,{onClick:t,sx:{position:"fixed",bottom:function(e){return e.spacing(2)},right:function(e){return e.spacing(2)}},color:"primary","aria-label":"add",children:Object(J.jsx)(Kt.a,{})})})},Zt={name:null,lastname:null,email:null,role_id:null,password:null,confirmPassword:null},$t=function(e){var t=e.user,n=Object(G.b)(),r=Object(G.c)((function(e){return e.user})).roles,c=Object(a.useState)(Zt),s=Object(ge.a)(c,2),i=s[0],o=s[1],l=function(e){var n=!1,a=Object(fe.a)({},Zt);return""===e.name&&(a.name="Invalid user name",n=!0),""===e.lastname&&(a.lastname="Invalid last name",n=!0),""===e.email&&(a.email="Invalid email",n=!0),"0"===e.role_id&&(a.role_id="Select a valid role",n=!0),t||(""===e.password?(a.password="Invalid password",n=!0):e.password!==e.confirmPassword&&(a.confirmPassword="Passwords must match",n=!0)),o(a),!n};return Object(a.useEffect)((function(){r||n(function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee("user/roles");case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,n.ok?t({type:_,payload:a}):t(q("error",a.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t(q("error",e.t0.message,!1)),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[n,r]),Object(J.jsxs)(Ie.a,{component:"form",container:!0,spacing:2,onSubmit:function(e){e.preventDefault();var a=new FormData(e.currentTarget),r={name:a.get("name").trim(),lastname:a.get("lastname").trim(),email:a.get("email").trim(),role_id:a.get("role_id")};t||(r.password=a.get("password"),r.confirmPassword=a.get("confirmPassword")),l(r)&&(t?n(function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n){var a,r;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee("user/".concat(e.id),e,"PUT");case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,a.ok?(n({type:A,payload:e}),n(q("success","User updated",!0))):n(q("error",r.error,!0)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),n(q("error",t.t0.message,!1)),console.log("error",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(Object(fe.a)(Object(fe.a)({},r),{},{id:t.id}))):(delete r.confirmPassword,n(function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n){var a,r;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee("user/new",e,"POST");case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,a.ok?(n((c=Object(fe.a)(Object(fe.a)({},e),{},{id:r.userId}),{type:I,payload:c})),n(q("success","User added",!0))):n(q("error",r.error,!0)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),n(q("error",t.t0.message,!1)),console.log("error",t.t0);case 14:case"end":return t.stop()}var c}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(r))),n(ae()))},sx:{marginTop:"0.5rem"},children:[Object(J.jsx)(Ie.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(we.a,{defaultValue:null===t||void 0===t?void 0:t.name,error:!!i.userName,fullWidth:!0,helperText:i.userName,label:"User name",name:"name",required:!0,size:"small"})}),Object(J.jsx)(Ie.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(we.a,{defaultValue:null===t||void 0===t?void 0:t.lastname,error:!!i.lastname,fullWidth:!0,helperText:i.lastname,label:"Last name",name:"lastname",required:!0,size:"small"})}),Object(J.jsx)(Ie.a,{item:!0,xs:12,children:Object(J.jsx)(we.a,{defaultValue:null===t||void 0===t?void 0:t.email,error:!!i.email,fullWidth:!0,helperText:i.email,label:"Email",name:"email",required:!0,size:"small",type:"email"})}),Object(J.jsx)(Ie.a,{item:!0,xs:12,children:Object(J.jsxs)(Ve.a,{fullWidth:!0,error:!!i.role_id,children:[Object(J.jsx)(Ye.a,{children:"Role *"}),r&&Object(J.jsxs)(He.a,{required:!0,size:"small",defaultValue:t?t.role_id:0,name:"role_id",label:"Role *",children:[Object(J.jsx)(Xe.a,{value:0,children:"Select role"}),r.map((function(e){return Object(J.jsx)(Xe.a,{value:e.id,children:e.role},e.id)}))]}),Object(J.jsx)(Gt.a,{children:i.role_id})]})}),!t&&Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(Ie.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(we.a,{error:!!i.password,fullWidth:!0,helperText:i.password,label:"Password",name:"password",required:!0,size:"small",type:"password"})}),Object(J.jsx)(Ie.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(we.a,{error:!!i.confirmPassword,fullWidth:!0,helperText:i.confirmPassword,label:"Confirm password",name:"confirmPassword",required:!0,size:"small",type:"password"})})]}),Object(J.jsx)(Ie.a,{item:!0,xs:12,sx:{marginTop:"2rem"},children:Object(J.jsxs)(lt.a,{direction:"row",spacing:2,justifyContent:"flex-end",children:[Object(J.jsx)(Ce.a,{variant:"contained",color:"info",onClick:function(){return n(ae(!1))},children:"Cancel"}),Object(J.jsx)(Ce.a,{variant:"contained",endIcon:Object(J.jsx)(Lt.a,{}),color:"success",type:"submit",children:"Save"})]})})]})},en=n(580),tn=n(302),nn=n.n(tn),an=n(301),rn=n.n(an),cn=function(e){var t=e.handleEdit,n=e.handleDelete,r=e.filterWord,c=void 0===r?"":r,s=Object(G.b)(),i=Object(G.c)((function(e){return e.user})).users;return Object(a.useEffect)((function(){i||s(function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee("user");case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,n.ok?t({type:U,payload:a}):t(q("error",a.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t(q("error",e.t0.message,!1)),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[s,i]),Object(J.jsx)(J.Fragment,{children:i?Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Pe.a,{sx:{maxWidth:"1300px",width:"95%",margin:"0 auto"},children:i.map((function(e,a){return-1!==e.name.search(new RegExp(c,"i"))&&Object(J.jsxs)("div",{children:[Object(J.jsxs)(ze.a,{children:[Object(J.jsx)(Re.a,{primary:"".concat(e.name," ").concat(e.lastname),secondary:e.email}),Object(J.jsx)(ft.a,{onClick:function(){return t(e)},"aria-label":"delete-user",variant:"contained",color:"info",children:Object(J.jsx)(rn.a,{})}),Object(J.jsx)(ft.a,{"aria-label":"delete-user",variant:"contained",color:"error",onClick:function(){return n(e)},children:Object(J.jsx)(nn.a,{})})]}),Object(J.jsx)(en.a,{})]},a)}))})}):Object(J.jsx)("p",{children:" Loading..."})})},sn=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.modal})).componentName,n=Object(G.c)((function(e){return e.user})).currentUser,r=Object(a.useState)(""),c=Object(ge.a)(r,2),s=c[0],i=c[1],o=function(){e(ae())};return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(ke.a,{variant:"h4",textAlign:"center",marginY:3,children:"Manage users"}),Object(J.jsx)("div",{className:"flex-box",style:{justifyContent:"center"},children:Object(J.jsx)(we.a,{size:"small",label:"Search",onChange:function(e){var t=e.target.value.replace(/\\/g,"\\\\");i(t)},placeholder:"Filter",variant:"outlined",InputProps:{startAdornment:Object(J.jsx)(Ne.a,{position:"end",children:Object(J.jsx)(Ge.a,{})})}})}),Object(J.jsx)(cn,{filterWord:s,handleEdit:function(t){e(Yt(t)),e(ae(!0,"Edit user",ct))},handleDelete:function(t){e(Yt(t)),e(ae(!0,"Delete user",st))}}),Object(J.jsx)(Qt,{onClickFunction:function(){e(ae(!0,"Add user",rt))},tooltipText:"Add new user"}),t===rt&&Object(J.jsx)(ot,{children:Object(J.jsx)($t,{})}),t===ct&&Object(J.jsx)(ot,{children:Object(J.jsx)($t,{user:n})}),t===st&&Object(J.jsx)(ot,{children:Object(J.jsx)(Wt,{handleCancel:o,handleDelete:function(){var t;e((t=n.id,function(){var e=Object(Q.a)(K.a.mark((function e(n){var a,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee("user/".concat(t),{},"DELETE");case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,a.ok?(n(Ht(t)),n(q("success","User deleted",!0))):n(q("error",r.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),n(q("error",e.t0.message,!1)),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),o()},children:Object(J.jsxs)(l.a,{severity:"warning",children:["Are you sure you want to delete the user"," ",Object(J.jsxs)("b",{children:[n.name," ",n.lastname]})," ","and all its associated data (workouts)?"]})})})]})},on="workout",ln=function(e){return{type:B,payload:e}},un=function(e){return{type:M,payload:e}},dn=function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n){var a,r;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee("".concat(on,"/my-workouts/").concat(e));case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,a.ok?n(un(r)):(n(On()),n(q("error",r.error,!0)),console.log(r.error)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0),n(q("error",t.t0.message,!0));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},jn=function(e){return{type:F,payload:e}},bn=function(e){return{type:D,payload:e}},mn=function(e){return{type:T,payload:e}},xn=function(e){return{type:P,payload:e}},On=function(){return{type:u}},pn=n(612),hn=n(615),fn=n(614),gn=n(613),vn=function(e){var t=e.exercise,n=e.onCardClick;return Object(J.jsx)(pn.a,{className:"workout-card",onClick:function(){return n(t)},children:Object(J.jsxs)(gn.a,{children:[Object(J.jsx)(fn.a,{className:" workout-card__image",component:"img",image:t.imageUrl?t.imageUrl:"".concat("/workouts-app-frontend","/img/defaultWorkout.jpg"),alt:t.imageName?t.imageName:t.name}),Object(J.jsxs)(hn.a,{className:"workout-card__text",children:[Object(J.jsx)(ke.a,{gutterBottom:!0,variant:"h5",component:"p",className:"workout-card__text-title",children:t.name}),Object(J.jsx)(ke.a,{variant:"body2",color:"text.secondary",className:"workout-card__text-description",children:t.description})]})]})})},yn=function(){var e=Object(G.b)(),t=Object(H.h)().workoutName,n=Object(G.c)((function(e){return e.workouts})).currentWorkoutExercises,r=n.length,c=Object(G.c)((function(e){return e.modal}));Object(a.useEffect)((function(){0===n.length&&e(dn(t))}),[e,t,n]);var s=function(t){e(ie(t)),e(ae(!0,t.name,at))};return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(ke.a,{variant:"h4",component:"p",textAlign:"center",margin:3,children:[Object(J.jsx)("b",{children:t})," workout"]}),Object(J.jsxs)(ke.a,{variant:"h5",component:"p",textAlign:"right",children:[r," Exercise(s)"]}),Object(J.jsxs)("div",{className:"export-data-buttons-area",children:[Object(J.jsx)(Et,{dataSource:"exercises",data:n,fileName:"".concat(t," workout"),sheetName:t}),Object(J.jsx)(Ut,{exercises:n,totalExercises:r,fileName:t})]}),Object(J.jsx)("div",{className:"card-grid-container",children:n.map((function(e,t){return Object(J.jsx)(vn,{exercise:e,onCardClick:s},"".concat(t,"-").concat(e.name))}))}),c.componentName===at&&Object(J.jsx)(ot,{modalSize:"md",children:Object(J.jsx)(Ot,{exerciseList:n,componentModalName:at})})]})},kn=n(17),wn=n(604),Nn=n(593),Cn=n(616),Sn=Object(a.memo)((function(e){var t=e.muscleList,n=Object(G.b)(),r=Object(a.useState)(1),c=Object(ge.a)(r,2),s=c[0],i=c[1];return Object(a.useEffect)((function(){n(ce(0===s?0:t[s-1].id))}),[n,s,t]),Object(J.jsxs)(Nn.a,{variant:"scrollable",value:s,onChange:function(e,t){i(t)},"aria-label":"Vertical tabs example",sx:{borderRight:1,borderColor:"divider"},children:[Object(J.jsx)(Cn.a,{label:"All"},"tab-all"),t.map((function(e,t){return Object(J.jsx)(Cn.a,{label:e.name},"tab-".concat(e.name))}))]})})),En=n(303),In=n(606),_n=[{field:"exerciseName",headerName:"Exercise name",width:150},{field:"exerciseDescription",headerName:"Description",width:250}],Un=r.a.memo((function(e){var t=e.handleAdd,n=Object(G.c)((function(e){return e.exercises})).exerciseList,r=Object(a.useState)({}),c=Object(ge.a)(r,2),s=c[0],i=c[1],o=Object(a.useRef)(),l=n.map((function(e){return{id:e.id,exerciseName:e.name,exerciseDescription:e.description,imageName:e.imageName,imageUrl:e.imageUrl}})),u=Object(a.useState)(null),d=Object(ge.a)(u,2),j=d[0],b=d[1],m=function(){b(null)},x=Boolean(j);return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("div",{style:{height:275},children:[Object(J.jsx)(En.a,{ref:o,"aria-owns":x?"mouse-over-popover":void 0,"aria-haspopup":"true",rows:l,columns:_n,pageSize:5,rowsPerPageOptions:[5],disableSelectionOnClick:!0,onCellClick:t,onCellEnter:function(e){b(o.current),i({name:e.row.exerciseName,imageUrl:e.row.imageUrl})},onCellLeave:m,density:"compact"}),Object(J.jsxs)(In.a,{id:"mouse-over-popover",sx:{pointerEvents:"none"},open:x,anchorEl:j,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:m,disableRestoreFocus:!0,children:[Object(J.jsx)(ke.a,{sx:{p:1},children:s.name}),Object(J.jsx)("img",{style:{maxWidth:"150px"},src:s.imageUrl,alt:s.imageName})]})]})})})),An=n(5),Ln=n(601),Wn=n(311),Dn=Object(An.a)("li")((function(e){return{margin:e.theme.spacing(.5)}})),Mn=r.a.memo((function(e){var t=e.chips,n=void 0===t?[]:t,a=e.title,r=void 0===a?"":a,c=e.handleDelete;return Object(J.jsxs)(J.Fragment,{children:[!!r&&Object(J.jsx)("p",{children:r}),Object(J.jsx)(Wn.a,{sx:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",p:.5,m:0},component:"ul",children:n.map((function(e){return Object(J.jsx)(Dn,{children:Object(J.jsx)(Ln.a,{label:e.label,onDelete:function(){return c(e)}})},e.key)}))})]})})),Fn=function(e){var t=e.action,n=Object(G.b)(),r=Object(G.c)((function(e){return e.workouts})),c=r.currentWorkout,s=r.currentWorkoutExercises,i=Object(a.useState)(s?s.map((function(e,t){return{id:e.id,label:e.name,key:t}})):[]),o=Object(ge.a)(i,2),l=o[0],u=o[1],d=Object(a.useState)(""),j=Object(ge.a)(d,2),b=j[0],m=j[1],x=Object(a.useState)(!1),O=Object(ge.a)(x,2),p=O[0],h=O[1],f=bt({name:c.name||"",description:c.description||""}),g=Object(ge.a)(f,2),v=g[0],y=g[1],k=v.name,w=v.description,N=Object(a.useMemo)((function(){return JSON.parse(localStorage.getItem("muscleList"))}),[]),C=Object(a.useCallback)((function(e){u([].concat(Object(kn.a)(l),[{key:Date.now(),label:e.row.exerciseName,id:e.id}]))}),[l]),S=Object(a.useCallback)((function(e){return u(l.filter((function(t){return t.key!==e.key})))}),[l]);return Object(J.jsxs)(lt.a,{component:"form",spacing:2,onSubmit:function(e){e.preventDefault();var a=k.trim(),r=w.trim(),i=document.getElementById("workoutImage").files[0];if(a)if(m(""),0!==l.length){var o,u=l.map((function(e){return e.id})).join(",");if(h(!0),"add"===t)n((o={name:a,description:r,exerciseIds:u,image:i},function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te(on,o,"POST");case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,n.ok?(o.image&&(o.imageName=a.imageName,o.imageUrl=a.imageUrl,delete o.image),o.id=a.workoutId,t(bn(o)),t(q("success","Workout added",!0)),t(ae(!1))):t(q("error",a.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t(q("error",e.t0.message,!0));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()));else if("update"===t){s.map((function(e){return e.id})).join(",")===u&&(u=null),n(function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n){var a,r;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te("".concat(on,"/").concat(e.id),e,"PUT");case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,a.ok?(e.newImage&&(e.imageName=r.imageName,e.imageUrl=r.imageUrl,delete e.newImage),n(mn(e)),n(q("success","Workout updated",!0)),n(ae(!1))):n(q("error",r.error,!0)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0),n(q("error",t.t0.message,!0));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}({id:c.id,name:a,description:r,imageName:c.imageName,imageUrl:c.imageUrl,exerciseIds:u,newImage:i}))}}else n(q("error","Select at least one exercise",!0));else m("Invalid workout name")},children:[Object(J.jsxs)(Ve.a,{sx:{width:"100%"},error:!!b,children:[Object(J.jsx)(Ye.a,{htmlFor:"workoutName",children:"Workout name*"}),Object(J.jsx)(wn.a,{required:!0,id:"workoutName","aria-describedby":"workout-name",name:"name",onChange:y,value:k}),Object(J.jsx)(Gt.a,{id:"my-helper-text",children:b||"Enter a name that describe your workout"})]}),Object(J.jsxs)(Ve.a,{sx:{width:"100%"},children:[Object(J.jsx)(Ye.a,{htmlFor:"workoutDescription",children:"Description"}),Object(J.jsx)(wn.a,{id:"workoutDescription","aria-describedby":"workout-description",multiline:!0,name:"description",value:w,onChange:y,rows:2})]}),Object(J.jsxs)("div",{children:[Object(J.jsx)(Sn,{muscleList:N}),Object(J.jsx)(Mn,{chips:l,handleDelete:S}),Object(J.jsx)(Un,{handleAdd:C})]}),Object(J.jsx)("div",{className:"margin-y-1",children:Object(J.jsx)(mt,{id:"workoutImage",name:"workoutImage",currentImageName:c.imageName})}),Object(J.jsxs)(lt.a,{direction:"row",spacing:2,justifyContent:"flex-end",children:[Object(J.jsx)(Ce.a,{variant:"contained",color:"info",onClick:function(){return n(ae(!1))},children:"Cancel"}),Object(J.jsx)(ut.a,{loading:p,loadingPosition:"end",variant:"contained",endIcon:Object(J.jsx)(Lt.a,{}),color:"success",type:"submit",children:"Save"})]})]})},Tn=n(617),Pn=function(e){var t=e.workout,n=e.onCardClick,a=Object(G.b)();return Object(J.jsxs)(pn.a,{className:"workout-card",onClick:function(){return n(t)},children:[Object(J.jsx)(gn.a,{children:Object(J.jsxs)(Y.b,{style:{textDecoration:"none"},to:"workouts/".concat(t.name),children:[Object(J.jsx)(fn.a,{className:"workout-card__image",component:"img",image:t.imageUrl?t.imageUrl:"".concat("/workouts-app-frontend","/img/defaultWorkout.jpg"),alt:t.imageName?t.imageName:t.name}),Object(J.jsxs)(hn.a,{children:[Object(J.jsx)(ke.a,{gutterBottom:!0,variant:"h6",component:"p",children:t.name}),Object(J.jsx)(ke.a,{variant:"body2",color:"text.secondary",children:t.description})]})]})}),Object(J.jsxs)(Tn.a,{className:"workout-card__buttons",children:[Object(J.jsx)(Ce.a,{size:"small",color:"secondary",endIcon:Object(J.jsx)(At.a,{}),onClick:function(){a(ae(!0,"Delete workout",nt))},children:"Delete"}),Object(J.jsx)(Ce.a,{size:"small",color:"primary",endIcon:Object(J.jsx)(Pt.a,{}),onClick:function(){a(ae(!0,"Update workout",tt))},children:"Edit"})]})]})},zn=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.workouts})),n=t.myWorkouts,r=t.loading,c=t.currentWorkout,s=Object(G.c)((function(e){return e.modal})).componentName;Object(a.useEffect)((function(){e(function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee("".concat(on,"/my-workouts"));case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,n.ok?t({type:W,payload:a}):(t(On()),t(q("error",a.error,!0))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t(q("error",e.t0.message,!0));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);var i=function(){var t=Object(Q.a)(K.a.mark((function t(n){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(ln(!0)),e(jn(n)),t.next=4,e(dn(n.name));case 4:e(ln(!1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(J.jsxs)("div",{className:"card-flex-container",children:[n.map((function(e){return Object(J.jsx)(Pn,{workout:e,onCardClick:i},e.id)})),s===et&&Object(J.jsx)(ot,{modalSize:"md2",children:Object(J.jsx)(Fn,{action:"add"})}),s===tt&&Object(J.jsx)(ot,{modalSize:"md2",children:r?Object(J.jsx)("p",{children:"Loading workout data..."}):Object(J.jsx)(Fn,{action:"update"})}),s===nt&&Object(J.jsx)(ot,{children:Object(J.jsx)(Wt,{handleCancel:function(){e(ae(!1))},handleDelete:function(){var t,n;e((t=c.id,n=c.imageUrl,function(){var e=Object(Q.a)(K.a.mark((function e(a){var r,c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee("".concat(on,"/").concat(t),{id:t,imageUrl:n},"DELETE");case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,r.ok?(a(xn(t)),a(q("success","Workout deleted",!0)),a(ae(!1))):a(q("error",c.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),a(q("error",e.t0.message,!0));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:Object(J.jsxs)(l.a,{severity:"warning",children:["Are you sure you want to delete your workout",Object(J.jsxs)("b",{children:[" ",c.name]}),"?"]})})})]})},Rn=function(){var e=Object(G.b)();return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(ke.a,{variant:"h4",textAlign:"center",margin:3,children:"My workouts"}),Object(J.jsx)(zn,{}),Object(J.jsx)(De.a,{title:"Add new workout",children:Object(J.jsx)(Me.a,{onClick:function(){e(jn({})),e(un([])),e(ae(!0,"Add new workout",et))},sx:{position:"fixed",bottom:function(e){return e.spacing(2)},right:function(e){return e.spacing(2)}},color:"primary","aria-label":"add-workout",children:Object(J.jsx)(Je.a,{})})})]})},Bn=function(){var e=Object(H.g)(),t=Object(G.c)((function(e){return e.auth})).user;return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("div",{children:[Object(J.jsxs)(H.d,{children:[Object(J.jsx)(H.b,{exact:!0,path:"/exercises",component:Mt}),Object(J.jsx)(H.b,{exact:!0,path:"/muscles",component:Vt}),Object(J.jsx)(H.b,{exact:!0,path:"/workouts",component:Rn}),Object(J.jsx)(H.b,{exact:!0,path:"/about",component:qe}),Object(J.jsx)(H.b,{exact:!0,path:"/workouts/:workoutName",component:yn}),t.isAdmin&&Object(J.jsx)(H.b,{exact:!0,path:"/users",component:sn}),Object(J.jsx)(H.a,{to:"/muscles"})]}),Object(J.jsx)(De.a,{title:"Previous page",children:Object(J.jsx)(Me.a,{sx:{position:"fixed",bottom:function(e){return e.spacing(2)},left:function(e){return e.spacing(2)}},color:"secondary","aria-label":"return",onClick:function(){return e.goBack()},children:Object(J.jsx)(We.a,{})})})]})})},qn=n(147),Gn=["isAuthenticated","component"],Jn=function(e){var t=e.isAuthenticated,n=e.component,a=Object(qn.a)(e,Gn);return Object(J.jsx)(H.b,Object(fe.a)(Object(fe.a)({},a),{},{component:function(e){return t?Object(J.jsx)(n,Object(fe.a)({},e)):Object(J.jsx)(H.a,{to:"/login"})}}))},Vn=["isAuthenticated","component"],Yn=function(e){var t=e.isAuthenticated,n=e.component,a=Object(qn.a)(e,Vn);return Object(J.jsx)(H.b,Object(fe.a)(Object(fe.a)({},a),{},{component:function(e){return t?Object(J.jsx)(H.a,{to:"/"}):Object(J.jsx)(n,Object(fe.a)({},e))}}))},Hn=n(582),Xn=function(e){var t=e.openCloseSidebar,n=Object(G.b)(),a=Object(G.c)((function(e){return e.auth})).user;return a.id?Object(J.jsxs)("nav",{className:"navbar navbar--fixed",children:[Object(J.jsx)("div",{className:"navbar__icon",children:Object(J.jsx)(ft.a,{onClick:t,children:Object(J.jsx)(Hn.a,{fontSize:"large"})})}),Object(J.jsxs)("div",{className:"navbar__content",children:[Object(J.jsx)("div",{className:"navbar__logo",children:Object(J.jsx)(ke.a,{variant:"h4",component:"h2",children:"WorkoutsApp"})}),Object(J.jsx)("div",{className:"navbar__user",children:Object(J.jsxs)("ul",{children:[Object(J.jsx)("li",{children:a.name}),Object(J.jsx)("li",{className:"logout m-x--1",onClick:function(){n(pe())},children:"Logout"})]})})]})]}):Object(J.jsx)("div",{className:"navbar",style:{position:"fixed",padding:"0 1rem"},children:Object(J.jsx)(ke.a,{variant:"h4",component:"h2",children:"WorkoutsApp"})})},Kn=n(583),Qn=n(584),Zn=n(585),$n=n(586),ea=n(587),ta=[{title:"Muscles",icon:Object(J.jsx)(Kn.a,{}),link:"/muscles"},{title:"Exercises",icon:Object(J.jsx)(Qn.a,{}),link:"/exercises"},{title:"Workouts",icon:Object(J.jsx)(Zn.a,{}),link:"/workouts"},{title:"About",icon:Object(J.jsx)($n.a,{}),link:"/about"}],na=[{title:"Users",icon:Object(J.jsx)(ea.a,{}),link:"/users"}],aa=n(602),ra=function(e){var t=e.openSidebar,n=e.openCloseSidebar,a=Object(G.c)((function(e){return e.auth})).user;return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(aa.a,{open:t,onClose:n,children:Object(J.jsx)(_e.a,{sx:{width:250},role:"presentation",onClick:n,onKeyDown:n,children:Object(J.jsxs)(Pe.a,{children:[Object(J.jsx)(ze.a,{children:Object(J.jsx)(Re.a,{children:Object(J.jsx)(ke.a,{variant:"h5",children:"WorkoutsApp"})})}),Object(J.jsx)(en.a,{}),ta.map((function(e,t){return Object(J.jsx)(Y.b,{to:e.link,children:Object(J.jsxs)(ze.a,{button:!0,children:[Object(J.jsx)(Be.a,{children:e.icon}),Object(J.jsx)(Re.a,{primary:e.title})]})},t)})),a.isAdmin&&Object(J.jsxs)(J.Fragment,{children:[" ",Object(J.jsx)(en.a,{}),Object(J.jsx)(ze.a,{children:Object(J.jsx)(Re.a,{children:Object(J.jsx)(ke.a,{variant:"h6",children:"Management"})})}),Object(J.jsx)(en.a,{}),na.map((function(e,t){return Object(J.jsx)(Y.b,{to:e.link,children:Object(J.jsxs)(ze.a,{button:!0,children:[Object(J.jsx)(Be.a,{children:e.icon}),Object(J.jsx)(Re.a,{primary:e.title})]})},t)}))]})]})})})})},ca=function(e){var t=e.children,n=Object(a.useState)(!1),r=Object(ge.a)(n,2),c=r[0],s=r[1],i=Object(G.c)((function(e){return e.auth})).user,o=function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&s(!c)};return Object(J.jsxs)("div",{children:[Object(J.jsx)(Xn,{openCloseSidebar:o}),i.id&&Object(J.jsx)(ra,{openCloseSidebar:o,openSidebar:c}),Object(J.jsx)("div",{className:"container",children:t})]})},sa=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.auth})),n=t.checking,r=t.isLogged;return Object(a.useEffect)((function(){var t=localStorage.getItem("token");e(t?function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee("user/renew");case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,n.ok?(localStorage.setItem("token",a.token),a.role_id===ne?a.isAdmin=!0:a.isAdmin=!1,a.id=a.uid,delete a.uid,delete a.token,t(xe(a))):t(Oe()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t(q("error","It was no possible to retrieve the data",!0));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}():Oe())}),[e]),n?Object(J.jsx)("h5",{children:"Loading"}):Object(J.jsx)(Y.a,{children:Object(J.jsx)(ca,{children:Object(J.jsxs)(H.d,{children:[Object(J.jsx)(Yn,{exact:!0,path:"/login",isAuthenticated:r,component:Se}),Object(J.jsx)(Yn,{exact:!0,path:"/register",isAuthenticated:r,component:Le}),Object(J.jsx)(Jn,{path:"/",isAuthenticated:r,component:Bn})]})})})},ia=n(108),oa=n(305),la={muscleList:[],loading:!0,current:null},ua={exerciseList:[],loading:!0,current:null},da={users:null,currentUser:null,roles:null},ja={type:"error",message:"",open:!1},ba={isOpen:!1,header:"Modal title",componentName:null},ma={myWorkouts:[],loading:!0,currentWorkout:{},currentWorkoutExercises:[]},xa={isLogged:!1,user:{},checking:!0},Oa=Object(ia.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(fe.a)(Object(fe.a)({},e),{},{isLogged:!0,user:t.payload,checking:!1});case C:return Object(fe.a)(Object(fe.a)({},e),{},{checking:!1});case S:return Object(fe.a)(Object(fe.a)({},xa),{},{checking:!1});default:return e}},muscles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:la,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,muscleList:t.payload});case j:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,error:t.payload});case b:return Object(fe.a)(Object(fe.a)({},e),{},{current:t.payload});case m:return Object(fe.a)(Object(fe.a)({},e),{},{muscleList:[].concat(Object(kn.a)(e.muscleList),[t.payload])});case p:var n=t.payload;return Object(fe.a)(Object(fe.a)({},e),{},{muscleList:e.muscleList.filter((function(e){return e.id!==n}))});case O:var a=t.payload;return Object(fe.a)(Object(fe.a)({},e),{},{muscleList:e.muscleList.map((function(e){return e.id!==a.id?e:a}))});case d:return la;default:return e}},exercises:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,exerciseList:t.payload});case f:case u:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,error:t.payload});case g:return ua;case v:return Object(fe.a)(Object(fe.a)({},e),{},{exerciseList:[t.payload].concat(Object(kn.a)(e.exerciseList))});case y:return Object(fe.a)(Object(fe.a)({},e),{},{current:t.payload});case k:var n=t.payload;return Object(fe.a)(Object(fe.a)({},e),{},{exerciseList:e.exerciseList.map((function(e){return e.id!==n.id?e:n}))});case w:var a=t.payload;return Object(fe.a)(Object(fe.a)({},e),{},{exerciseList:e.exerciseList.filter((function(e){return e.id!==a}))});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(fe.a)(Object(fe.a)({},e),{},{currentUser:t.payload});case U:return Object(fe.a)(Object(fe.a)({},e),{},{users:t.payload});case I:return Object(fe.a)(Object(fe.a)({},e),{},{users:[].concat(Object(kn.a)(e.users),[t.payload])});case A:var n=t.payload;return Object(fe.a)(Object(fe.a)({},e),{},{users:e.users.map((function(e){return e.id!==n.id?e:n}))});case L:var a=t.payload;return Object(fe.a)(Object(fe.a)({},e),{},{users:e.users.filter((function(e){return e.id!==a}))});case _:return Object(fe.a)(Object(fe.a)({},e),{},{roles:t.payload});default:return e}},snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ja,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:var n=t.payload,a=n.type,r=n.message,c=n.open;return Object(fe.a)(Object(fe.a)({},e),{},{type:a,message:r,open:c});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ba,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:var n=t.payload,a=n.isOpen,r=n.header,c=n.componentName;return Object(fe.a)(Object(fe.a)({},e),{},{isOpen:a,header:r,componentName:c});default:return e}},workouts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ma,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case W:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,myWorkouts:t.payload});case M:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,currentWorkoutExercises:t.payload});case F:return Object(fe.a)(Object(fe.a)({},e),{},{currentWorkout:Object(fe.a)({},t.payload)});case D:return Object(fe.a)(Object(fe.a)({},e),{},{myWorkouts:[].concat(Object(kn.a)(e.myWorkouts),[t.payload])});case T:var n=t.payload;return Object(fe.a)(Object(fe.a)({},e),{},{myWorkouts:Object(kn.a)(e.myWorkouts.map((function(e){return e.id!==n.id?e:n})))});case P:var a=t.payload;return Object(fe.a)(Object(fe.a)({},e),{},{myWorkouts:Object(kn.a)(e.myWorkouts.filter((function(e){return e.id!==a})))});case u:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1});case B:return Object(fe.a)(Object(fe.a)({},e),{},{loading:t.payload});default:return e}}}),pa="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ia.c,ha=Object(ia.d)(Oa,pa(Object(ia.a)(oa.a))),fa=n(77),ga=n(603),va=n(588),ya=Object(fa.a)({palette:{primary:{main:"#27C265",contrastText:"#fff"},secondary:{main:"#109EB4",contrastText:"#fff"}}}),ka=function(){return Object(J.jsx)(G.a,{store:ha,children:Object(J.jsxs)(ga.a,{theme:ya,children:[Object(J.jsx)(va.a,{}),Object(J.jsx)(V,{}),Object(J.jsx)(sa,{})]})})};n(486);s.a.render(Object(J.jsx)(ka,{}),document.getElementById("root")),i()}},[[487,1,2]]]);
//# sourceMappingURL=main.0dadf7d0.chunk.js.map