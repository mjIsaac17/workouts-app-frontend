(this["webpackJsonpfrontend-workouts-app"]=this["webpackJsonpfrontend-workouts-app"]||[]).push([[0],{286:function(e,t){},383:function(e,t){},385:function(e,t){},396:function(e,t){},398:function(e,t){},425:function(e,t){},427:function(e,t){},428:function(e,t){},433:function(e,t){},435:function(e,t){},441:function(e,t){},443:function(e,t){},462:function(e,t){},474:function(e,t){},477:function(e,t){},482:function(e,t){},483:function(e,t){},486:function(e,t,n){},487:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(66),s=n.n(c),i=function(e){e&&e instanceof Function&&n.e(6).then(n.bind(null,749)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))},o=n(593),l=n(588),u="failureAction",d="clearMuscle",j="failureGetMuscles",m="setCurrentMuscle",b="successAddMuscle",x="successGetMuscles",O="successUpdateMuscle",p="successRemoveMuscle",h="successGetExercises",f="failureGetExercises",g="clearExercises",v="successAddExercise",y="setCurrentExercise",w="successUpdateExercise",k="successRemoveExercise",N="successLogin",S="finishRenewToken",C="clearUser",E="userSetCurrent",I="successAddUser",_="userSuccessGetRoles",U="successGetUsers",A="userSuccessUpdate",W="userSuccessDelete",L="successGetMyWorkouts",D="successAddWorkout",F="successGetWorkoutExercises",M="setCurrentWorkout",P="successUpdateWorkout",T="successRemoveWorkout",z="setSnackbar",R="setModal",q="setLoading",B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"error",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:z,payload:{type:e,message:t,open:n}}},G=n(13),J=n(1),V=function(){var e=Object(G.c)((function(e){return e.snackbar})),t=Object(G.b)(),n=function(n,a){"clickaway"!==a&&t(B(e.type,e.message,!1))};return Object(J.jsx)(o.a,{open:e.open,autoHideDuration:3e3,onClose:n,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(J.jsx)(l.a,{onClose:n,severity:e.type,elevation:6,variant:"filled",children:e.message})})},Y=n(42),X=n(32),H=n(19),K=n.n(H),Q=n(26),Z="https://workouts-app1.herokuapp.com/api",$=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat(Z,"/").concat(e);return"GET"===n?fetch(a):fetch(a,{method:n,headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},ee=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",a="".concat(Z,"/").concat(e),r=localStorage.getItem("token")||"";return"GET"===n?fetch(a,{method:n,headers:{"x-token":r}}):fetch(a,{method:n,headers:{"Content-Type":"application/json","x-token":r},body:JSON.stringify(t)})},te=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"POST",a="".concat(Z,"/").concat(e),r=localStorage.getItem("token")||"",c=new FormData;for(var s in t)c.append(s,t[s]);return fetch(a,{method:n,headers:{"x-token":r},body:c})},ne=1,ae=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Modal title",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:R,payload:{isOpen:e,header:t,componentName:n}}},re=function(e){return{types:u,payload:e}},ce=function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n){var a,r;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee("exercise/".concat(e));case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,n({type:h,payload:r}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),n((c=t.t0.message,{type:f,payload:c})),console.log(t.t0);case 14:case"end":return t.stop()}var c}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},se=function(e){return{type:v,payload:e}},ie=function(e){return{type:y,payload:e}},oe=function(e){return{type:w,payload:e}},le=function(e){return{type:k,payload:e}},ue="muscle",de=function(e){return{type:j,payload:e}},je=function(e){return{type:b,payload:e}},me=function(e){return{type:O,payload:e}},be=function(e){return{type:p,payload:e}},xe=function(e){return{type:N,payload:e}},Oe=function(){return{type:S}},pe=function(){return function(e){localStorage.clear(),e({type:C}),e({type:d}),e({type:g})}},he=n(3),fe=n(12),ge=n(7),ve=n(566),ye=n(567),we=n(155),ke=n(207),Ne=n(606),Se=n(95),Ce=function(){var e=Object(G.b)(),t=Object(a.useState)({email:"",password:""}),n=Object(ge.a)(t,2),r=n[0],c=n[1],s=function(e){c(Object(fe.a)(Object(fe.a)({},r),{},Object(he.a)({},e.target.name,e.target.value)))};return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)("div",{className:"flex-container center",children:Object(J.jsxs)("div",{className:"login-box",children:[Object(J.jsxs)("div",{className:"login-box__header",children:[Object(J.jsx)(we.a,{variant:"h4",children:"Sign in"}),Object(J.jsx)(we.a,{variant:"h6",color:"textSecondary",children:"Welcome back!"})]}),Object(J.jsx)("div",{className:"login-box__body",children:Object(J.jsxs)("form",{style:{display:"grid"},onSubmit:function(t){var n;t.preventDefault(),e((n=r,function(){var e=Object(Q.a)(K.a.mark((function e(t){var a,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$("user",n,"POST");case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,a.ok?(localStorage.setItem("token",r.token),r.role_id===ne?r.isAdmin=!0:r.isAdmin=!1,delete r.token,t(xe(r)),t(B("error","",!1))):t(B("error",r.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t(B("error",e.t0.message,!1)),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(J.jsxs)("div",{className:"space-elements-y--1",children:[Object(J.jsx)(ke.a,{id:"txtLoginEmail",fullWidth:!0,label:"Email",name:"email",onChange:s,placeholder:"Email",type:"email",value:r.email,variant:"outlined",InputProps:{startAdornment:Object(J.jsx)(Ne.a,{position:"start",children:Object(J.jsx)(ve.a,{})})}}),Object(J.jsx)(ke.a,{fullWidth:!0,id:"txtLoginPassword",label:"Password",name:"password",onChange:s,placeholder:"Password",type:"password",value:r.password,variant:"outlined",InputProps:{startAdornment:Object(J.jsx)(Ne.a,{position:"start",children:Object(J.jsx)(ye.a,{})})}})]}),Object(J.jsxs)("div",{className:"login-box__buttonArea",children:[Object(J.jsx)("div",{className:"login-box__buttonArea__item",children:Object(J.jsx)(Se.a,{variant:"contained",size:"large",type:"submit",children:"Log in"})}),Object(J.jsx)("div",{className:"login-box__buttonArea__item",children:Object(J.jsx)(Y.b,{to:"/register",children:Object(J.jsx)(Se.a,{variant:"contained",size:"large",color:"secondary",children:"Register"})})})]})]})})]})})})},Ee=n(595),Ie=n(596),_e=n(607),Ue=n(296),Ae=n.n(Ue),We=function(){var e={name:"",lastname:"",email:"",password:""},t=Object(G.b)(),n=Object(a.useState)(e),r=Object(ge.a)(n,2),c=r[0],s=r[1];return Object(J.jsx)("div",{className:"flex-container center",children:Object(J.jsx)("div",{className:"login-box",children:Object(J.jsxs)(_e.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(J.jsx)(Ee.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(J.jsx)(Ae.a,{})}),Object(J.jsx)(we.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(J.jsxs)(_e.a,{component:"form",noValidate:!0,onSubmit:function(n){n.preventDefault();var a,r=new FormData(n.currentTarget),c={name:r.get("name"),lastname:r.get("lastname"),email:r.get("email"),password:r.get("password"),confirmPassword:r.get("confirmPassword")};(function(t){var n=Object(fe.a)({},e),a=!0;return t.name||(n.name="Invalid name",a=!1),t.lastname||(n.lastname="Invalid last name",a=!1),t.email||(n.email="Invalid email",a=!1),t.password?t.password!==t.confirmPassword&&(n.password="The passwords are not the same",a=!1):(n.password="Invalid password",a=!1),s(n),a})(c)&&(delete c.confirmPassword,t((a=c,function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$("user/register",a,"POST");case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,n.ok?(localStorage.setItem("token",r.token),r.isAdmin=!1,delete r.token,t(xe(r)),t(B("error","",!1))):t(B("error",r.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t(B("error",e.t0.message,!1)),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())))},sx:{mt:3},children:[Object(J.jsxs)(Ie.a,{container:!0,spacing:2,children:[Object(J.jsx)(Ie.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(ke.a,{name:"name",required:!0,fullWidth:!0,label:"First Name",helperText:c.name,error:!!c.name,autoFocus:!0})}),Object(J.jsx)(Ie.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(ke.a,{required:!0,fullWidth:!0,label:"Last Name",name:"lastname",helperText:c.lastname,error:!!c.lastname})}),Object(J.jsx)(Ie.a,{item:!0,xs:12,children:Object(J.jsx)(ke.a,{required:!0,fullWidth:!0,label:"Email Address",type:"email",name:"email",helperText:c.email,error:!!c.email})}),Object(J.jsx)(Ie.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(ke.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",helperText:c.password,error:!!c.password})}),Object(J.jsx)(Ie.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(ke.a,{required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm password",type:"password"})})]}),Object(J.jsx)(Se.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},children:"Sign Up"}),Object(J.jsx)(Ie.a,{container:!0,justifyContent:"flex-end",children:Object(J.jsx)(Ie.a,{item:!0,children:Object(J.jsx)(Y.b,{to:"/login",children:"Already have an account? Sign in"})})})]})]})})})},Le=n(579),De=n(209),Fe=n(608),Me=n(574),Pe=n(575),Te=n(132),ze=n(208),Re=n(154),qe=n(62),Be="MuscleList",Ge="MuscleItem",Je="ExerciseList",Ve="ExerciseItem",Ye="WorkoutsAdd",Xe="WorkoutsUpdate",He="WorkoutsDelete",Ke="WorkoutsExercise",Qe="usersAdd",Ze="userEdit",$e="userDelete",et=n(568),tt=function(e){var t=e.children,n=e.modalSize,r=void 0===n?"sm":n,c=Object(G.b)(),s=Object(G.c)((function(e){return e.modal})),i=s.isOpen,o=s.header,l=i?"modal display-block":"modal display-none";return Object(a.useEffect)((function(){return document.body.classList.add("remove-scrollbar"),function(){document.body.classList.remove("remove-scrollbar")}}),[]),Object(J.jsx)("div",{className:l,children:Object(J.jsxs)("div",{className:"modal__container modal--".concat(r),children:[Object(J.jsxs)("div",{className:"modal__header",children:[Object(J.jsx)("p",{children:o}),Object(J.jsx)("button",{type:"button",className:"closeModal",onClick:function(){c(ae(!1,""))},children:Object(J.jsx)(et.a,{})})]}),Object(J.jsx)("div",{className:"modal__body",children:t})]})})},nt=n(569),at=n(587),rt=n(145),ct=n.n(rt),st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(ge.a)(t,2),r=n[0],c=n[1],s=function(e){var t=e.target;c(Object(fe.a)(Object(fe.a)({},r),{},Object(he.a)({},t.name,t.value)))},i=function(e,t){c(Object(fe.a)(Object(fe.a)({},r),{},Object(he.a)({},e,t)))},o=function(e){c(Object(fe.a)({},e))},l=function(){c(e)};return[r,s,i,o,l]},it=r.a.memo((function(e){var t=e.id,n=e.name,r=e.currentImageName,c=e.onChangeFunction,s=Object(a.useState)(r||"No image selected"),i=Object(ge.a)(s,2),o=i[0],l=i[1];return Object(J.jsx)("div",{className:"m-y--1",children:Object(J.jsx)("label",{htmlFor:n,children:Object(J.jsxs)(nt.a,{direction:{xs:"column",sm:"row"},alignItems:"center",children:[Object(J.jsx)("input",{id:t,name:n,onChange:function(e){l(e.target.files[0].name),c&&c()},type:"file",style:{display:"none"}}),Object(J.jsx)(Se.a,{variant:"contained",color:"info",component:"span",size:"small",sx:{marginRight:"1rem"},children:"New Image"}),Object(J.jsx)(ze.a,{children:o})]})})})})),ot=function(e){var t=e.muscleList,n=e.muscleId,r=void 0===n?0:n,c=e.handleModal,s=Object(G.b)(),i=Object(a.useState)(!1),o=Object(ge.a)(i,2),l=o[0],u=o[1],d=st({name:"",description:"",muscleId:r,image:null}),j=Object(ge.a)(d,3),m=j[0],b=j[1],x=j[2];return Object(J.jsxs)("form",{onSubmit:function(e){var t;e.preventDefault(),(m.name?0===m.muscleId?(s(B("error","Select a valid muscle",!0)),0):document.getElementById("image").files[0]||(s(B("error","Select an image",!0)),0):(s(B("error","Invalid exercise name",!0)),0))&&(u(!0),s((t=m,function(){var e=Object(Q.a)(K.a.mark((function e(n){var a,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te("exercise",t);case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,a.ok?(t.id=r.exerciseId,t.imageName=r.imageName,t.imageUrl=r.imageUrl,delete t.image,n(se(t)),n(B("success","Exercise added",!0))):n(B("error",r.error,!0)),n(ae(!1)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),n(re(e.t0.message)),n(B("error",e.t0.message,!0)),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())))},children:[Object(J.jsxs)("div",{className:"flex-box space-between",children:[Object(J.jsx)(ke.a,{size:"small",name:"name",required:!0,label:"Exercise name",onChange:b,sx:{width:"49%"}}),Object(J.jsxs)(Te.a,{sx:{width:"49%"},children:[Object(J.jsx)(ze.a,{id:"labelExerciseId",children:"Muscle"}),Object(J.jsxs)(Re.a,{id:"ddlMuscleAddExercise",value:m.muscleId,labelId:"labelExerciseId",label:"Muscle",onChange:function(e){return x("muscleId",e.target.value)},size:"small",name:"muscleId",children:[0===r&&Object(J.jsx)(qe.a,{value:r,children:"Select a muscle"},"ddlMuscleAddExercise-0"),t.map((function(e){return Object(J.jsx)(qe.a,{value:e.id,children:e.name},"ddlMuscleAddExercise-".concat(e.id))}))]})]})]}),Object(J.jsx)(ke.a,{sx:{margin:"1rem 0"},size:"small",name:"description",fullWidth:!0,label:"Description",multiline:!0,rows:"3",onChange:b}),Object(J.jsx)(it,{id:"image",name:"image",onChangeFunction:function(){var e=document.getElementById("image").files[0];x("image",e)}}),Object(J.jsxs)(nt.a,{direction:"row",spacing:2,justifyContent:"flex-end",className:"m-t--2",children:[Object(J.jsx)(Se.a,{variant:"contained",color:"info",onClick:function(){return c(!1,"")},children:"Cancel"}),Object(J.jsx)(at.a,{color:"success",endIcon:Object(J.jsx)(ct.a,{}),loading:l,loadingPosition:"end",type:"submit",variant:"contained",children:"Save"})]})]})},lt=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.exercises})),n=t.current,r=t.exerciseList,c=Object(a.useState)(r.findIndex((function(e){return e.id===n.id}))),s=Object(ge.a)(c,2),i=s[0],o=s[1],l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next",n={};"next"===t?r[i+1]?(n=r[i+1],o(i+1)):(n=r[0],o(0)):r[i-1]?(n=r[i-1],o(i-1)):(n=r[r.length-1],o(r.length-1)),e(ie(n))};return Object(J.jsxs)("div",{className:"modal-details",children:[Object(J.jsx)("button",{type:"button",className:"btn__navigation btn__navigation--previous",onClick:function(){return l("previous")},children:"<"}),Object(J.jsx)("button",{type:"button",className:"btn__navigation btn__navigation--next",onClick:function(){return l("next")},children:">"}),Object(J.jsx)("div",{className:"modal-details__image-section",children:Object(J.jsx)("img",{className:"image",src:n.imageUrl?n.imageUrl:"".concat("/workouts-app-frontend","/img/default.jpg"),alt:n.imageName})}),Object(J.jsxs)("div",{className:"modal-details__form-section",children:[Object(J.jsxs)("div",{style:{height:"100%"},children:[""!==n.description&&Object(J.jsx)("div",{className:"details details__description",children:Object(J.jsx)(we.a,{children:n.description})}),Object(J.jsx)("div",{className:"details",children:Object(J.jsxs)(we.a,{children:["Category: ",n.muscleName]})})]}),Object(J.jsx)(nt.a,{direction:"row",justifyContent:"flex-end",children:Object(J.jsx)(Se.a,{variant:"contained",color:"info",onClick:function(){return e(ae(!1,""))},size:"small",children:"Close"})})]})]})},ut=function(e){var t=e.exercise;return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("div",{className:"card card--sm",children:[Object(J.jsx)("img",{src:t.imageUrl?t.imageUrl:"".concat("/workouts-app-frontend","/img/default.jpg"),alt:t.imageName}),Object(J.jsx)("div",{className:"card__title",children:Object(J.jsx)("p",{children:t.name})})]})})},dt=n(570),jt=n(94),mt=n(204),bt=n.n(mt),xt={top:{style:"thin"},bottom:{style:"thin"},left:{style:"thin"},right:{style:"thin"}},Ot={sz:"18",bold:!0},pt={font:{sz:"14"},border:xt},ht={columns:[{title:"Exercise",width:{wpx:200},style:{font:Ot,border:xt}},{title:"Muscle",width:{wpx:200},style:{font:Ot,border:xt}},{title:"Description",width:{wpx:300},style:{font:Ot,border:xt}}],data:[{value:"name",style:pt},{value:"muscleName",style:pt},{value:"description",style:Object(fe.a)(Object(fe.a)({},pt),{},{alignment:{wrapText:!0}})}]},ft=bt.a.ExcelFile,gt=bt.a.ExcelFile.ExcelSheet,vt=function(e){var t=e.dataSource,n=e.data,a=e.fileName,r=e.sheetName,c=Object(G.b)(),s={};switch(t){case"exercises":s=ht}var i=[{columns:s.columns.map((function(e){return{title:e.title,width:e.width,style:e.style}})),data:n.map((function(e){return s.data.map((function(t){var n=t.value,a=t.style;return{value:e[n],style:a}}))}))}];return Object(J.jsx)(J.Fragment,{children:n.length>0?Object(J.jsx)(ft,{element:Object(J.jsx)(De.a,{title:"Export to Excel",children:Object(J.jsx)(jt.a,{"aria-label":"export to excel",color:"success",children:Object(J.jsx)(dt.a,{})})}),filename:a,children:Object(J.jsx)(gt,{dataSet:i,name:r})}):Object(J.jsx)(De.a,{title:"Export to Excel",onClick:function(){c(B("info","There is no data to export",!0))},children:Object(J.jsx)(jt.a,{"aria-label":"export to excel",color:"success",children:Object(J.jsx)(dt.a,{})})})})},yt=n(299),wt=n(571),kt=function(e){var t=e.exercises,n=e.totalExercises,r=e.fileName,c=Object(G.b)(),s=Object(a.useState)(!1),i=Object(ge.a)(s,2),o=i[0],l=i[1],u=function(e){return new Promise((function(t){var n=new Image;n.onload=function(){return t(n)},n.src=e.imageUrl}))};return Object(J.jsx)(De.a,{title:"Export to PDF",children:Object(J.jsxs)(jt.a,{"aria-label":"export to pdf",color:"error",onClick:function(){if(n>0){l(!0);var e=new yt.a("p","mm","a4");Promise.all(t.map(u)).then((function(a){a.forEach((function(a,r){var c=t[r];e.setFont("helvetica","bold"),e.setFontSize(22),e.text(c.name,20,20),e.setFontSize(16),e.setFont("helvetica","normal"),e.text(c.description,20,40);var s=a.height,i=a.width,o=s/i;(s>190||i>170)&&(s>i?i=(s=190)*(1/o):i>s&&(s=(i=170)*o)),e.addImage(a,c.imageName.split(".").at(-1),20,55,i,s),r<n-1&&e.addPage("a4","p")})),e.save("".concat(r,".pdf")),l(!1)})).catch((function(e){c(B("error","It was not possible to export the data to PDF",!0)),l(!1)}))}else c(B("info","There is no data to export",!0))},disabled:o,children:[Object(J.jsx)(wt.a,{}),o&&Object(J.jsxs)("div",{className:"lds-ring",children:[Object(J.jsx)("div",{}),Object(J.jsx)("div",{}),Object(J.jsx)("div",{}),Object(J.jsx)("div",{})]})]})})},Nt=n(572),St=n(573),Ct=function(e){var t=e.children,n=e.handleDelete,a=e.handleCancel;return Object(J.jsxs)(J.Fragment,{children:[t,Object(J.jsxs)(nt.a,{direction:"row",spacing:2,justifyContent:"flex-end",className:"m-t--2",children:[Object(J.jsx)(Se.a,{variant:"contained",color:"info",onClick:a,children:"Cancel"}),Object(J.jsx)(Se.a,{variant:"contained",endIcon:Object(J.jsx)(Nt.a,{}),color:"error",onClick:n,children:"Accept"})]})]})},Et=function(e){var t=e.muscleId,n=void 0===t?0:t,r=Object(G.b)(),c=Object(G.c)((function(e){return e.exercises})),s=c.current,i=c.exerciseList,o=Object(a.useState)(!1),u=Object(ge.a)(o,2),d=u[0],j=u[1],m=Object(a.useState)(!1),b=Object(ge.a)(m,2),x=b[0],O=b[1],p=Object(a.useState)(i.findIndex((function(e){return e.id===s.id}))),h=Object(ge.a)(p,2),f=h[0],g=h[1],v=st(Object(fe.a)(Object(fe.a)({},s),{},{muscleId:0!==n?n:s.muscleId,newImage:null})),y=Object(ge.a)(v,4),w=y[0],k=y[1],N=y[2],S=y[3],C=JSON.parse(localStorage.getItem("muscleList")),E="newImage",I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next",t={};"next"===e?i[f+1]?(t=i[f+1],g(f+1)):(t=i[0],g(0)):i[f-1]?(t=i[f-1],g(f-1)):(t=i[i.length-1],g(i.length-1)),r(ie(t)),S(Object(fe.a)(Object(fe.a)({},w),t))};return d?Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Ct,{handleCancel:function(){j(!1)},handleDelete:function(){var e,t;r((e=w.id,t=w.imageUrl,function(){var n=Object(Q.a)(K.a.mark((function n(a){var r,c;return K.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ee("exercise/".concat(e),{imageUrl:t},"DELETE");case 3:if(!(r=n.sent).ok){n.next=9;break}a(le(e)),a(B("success","Exercise deleted",!0)),n.next=13;break;case 9:return n.next=11,r.json();case 11:c=n.sent,a(B("error",c.error,!0));case 13:a(ae(!1)),n.next=21;break;case 16:n.prev=16,n.t0=n.catch(0),a(re(n.t0.message)),a(B("error",n.t0.message,!0)),console.log(n.t0);case 21:case"end":return n.stop()}}),n,null,[[0,16]])})));return function(e){return n.apply(this,arguments)}}()))},children:Object(J.jsxs)(l.a,{severity:"warning",children:["Are you sure you want to delete the exercise ",Object(J.jsx)("b",{children:s.name}),"?"]})})}):Object(J.jsxs)("form",{onSubmit:function(e){var t,a;e.preventDefault(),(w.name||(r(B("error","Invalid exercise name",!0)),0))&&(O(!0),r((t=w,a=n,function(){var e=Object(Q.a)(K.a.mark((function e(n){var r,c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te("exercise/".concat(t.id),t,"PUT");case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,r.ok?(delete t.newImage,t.muscleId===a||0===a?(t.imageName=c.imageName,t.imageUrl=c.imageUrl,n(oe(t))):n(le(t.id)),n(B("success","Exercise updated",!0))):n(B("error",c,!0)),n(ae(!1)),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),n(re(e.t0.message)),n(B("error",e.t0.message,!0)),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())))},className:"modal-details",children:[Object(J.jsx)("button",{type:"button",className:"btn__navigation btn__navigation--previous",onClick:function(){return I("previous")},children:"<"}),Object(J.jsx)("button",{type:"button",className:"btn__navigation btn__navigation--next",onClick:function(){return I("next")},children:">"}),Object(J.jsx)("div",{className:"modal-details__image-section",children:Object(J.jsx)("img",{className:"image",src:w.imageUrl?w.imageUrl:"".concat("/workouts-app-frontend","/img/default.jpg"),alt:w.imageName})}),Object(J.jsxs)("div",{className:"modal-details__form-section",children:[Object(J.jsxs)("div",{children:[Object(J.jsx)(ke.a,{size:"small",label:"Exercise Name",fullWidth:!0,name:"name",onChange:k,value:w.name}),Object(J.jsx)(ke.a,{sx:{margin:"1rem 0"},size:"small",name:"description",fullWidth:!0,label:"Description",multiline:!0,rows:"3",onChange:k,value:w.description}),Object(J.jsxs)(Te.a,{fullWidth:!0,children:[Object(J.jsx)(ze.a,{id:"labelMuscleId",children:"Muscle"}),Object(J.jsx)(Re.a,{id:"ddlMuscleAddExercise",labelId:"labelMuscleId",label:"Muscle",size:"small",value:w.muscleId,onChange:k,name:"muscleId",children:C.map((function(e){return Object(J.jsx)(qe.a,{value:e.id,children:e.name},"ddlMuscles-".concat(e.id))}))})]}),Object(J.jsx)(it,{name:E,id:E,onChangeFunction:function(){N(E,document.getElementById(E).files[0])}})]}),Object(J.jsxs)(nt.a,{direction:"row",justifyContent:"space-between",children:[Object(J.jsx)(Se.a,{variant:"contained",endIcon:Object(J.jsx)(Nt.a,{}),color:"error",size:"small",onClick:function(){return j(!0)},children:"Delete"}),Object(J.jsxs)(nt.a,{direction:"row",spacing:2,children:[Object(J.jsx)(Se.a,{variant:"contained",color:"info",onClick:function(){return r(ae(!1,""))},size:"small",children:"Close"}),Object(J.jsx)(at.a,{color:"success",endIcon:Object(J.jsx)(St.a,{}),loading:x,loadingPosition:"end",variant:"contained",type:"submit",size:"small",children:"Save"})]})]})]})]})},It=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.modal})),n=Object(G.c)((function(e){return e.auth.user})).isAdmin,r=Object(G.c)((function(e){return e.muscles.current})),c=Object(G.c)((function(e){return e.exercises})),s=c.exerciseList,i=c.loading,o=Object(a.useState)(r?r.name:"All"),l=Object(ge.a)(o,2),u=l[0],d=l[1],j=Object(a.useState)(r?r.id:0),m=Object(ge.a)(j,2),b=m[0],x=m[1],O=Object(a.useState)(""),p=Object(ge.a)(O,2),h=p[0],f=p[1],g=Object(a.useState)(s.length),v=Object(ge.a)(g,2),y=v[0],w=v[1],k=function(t,n,a){e(ae(t,n,a))},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=0;return s.map((function(n){return-1!==n.name.search(new RegExp(e,"i"))&&t++})),t},S=JSON.parse(localStorage.getItem("muscleList"));return Object(a.useEffect)((function(){e(ce(b))}),[e,b]),Object(J.jsx)("div",{children:i?Object(J.jsx)("h1",{children:"Loading..."}):Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)("div",{className:"flex-box space-between m-y--1 space-elements-y--1",children:[Object(J.jsxs)(Te.a,{children:[Object(J.jsx)(ze.a,{id:"lblSelectMuscle",children:"Muscle"}),Object(J.jsxs)(Re.a,{id:"ddlMuscle",value:b,label:"Muscle",labelId:"lblSelectMuscle",onChange:function(e){var t=e.target.value;x(t),d(0===t?"All":S.find((function(e){return e.id===t})).name)},size:"small",children:[Object(J.jsx)(qe.a,{value:0,name:"All",children:"All"}),S.map((function(e){return Object(J.jsx)(qe.a,{value:e.id,children:e.name},"ddlMuscle-".concat(e.id))}))]})]}),Object(J.jsx)(ke.a,{size:"small",label:"Search",onChange:function(e){var t=e.target.value.replace(/\\/g,"\\\\");f(t),w(""!==t?N(t):s.length)},placeholder:"Filter exercises",variant:"outlined",InputProps:{startAdornment:Object(J.jsx)(Ne.a,{position:"end",children:Object(J.jsx)(Me.a,{})})}})]}),Object(J.jsxs)("div",{className:"flex-box space-between",children:[Object(J.jsx)(we.a,{variant:"h5",component:"p",children:"Results:"}),Object(J.jsxs)(we.a,{variant:"h5",component:"p",children:[y>0?y:0," Exercise(s) found"]})]}),Object(J.jsxs)("div",{className:"export-data-buttons-area",children:[Object(J.jsx)(vt,{dataSource:"exercises",data:s,fileName:"".concat(u," exercises"),sheetName:"".concat(u," exercises")}),Object(J.jsx)(kt,{exercises:s,totalExercises:y,fileName:"".concat(u," exercises")})]}),Object(J.jsx)("div",{className:"card-grid-container",children:s.map((function(t){return-1!==t.name.search(new RegExp(h,"i"))&&Object(J.jsx)("div",{onClick:function(){return function(t){e(ie(t)),e(ae(!0,t.name,Ve))}(t)},children:Object(J.jsx)(ut,{exercise:t})},t.name+t.id)}))}),n&&Object(J.jsx)(De.a,{title:"Add new exercise",children:Object(J.jsx)(Fe.a,{sx:{position:"fixed",bottom:function(e){return e.spacing(2)},right:function(e){return e.spacing(2)}},color:"primary","aria-label":"add-exercise",onClick:function(){return k(!0,"Add new exercise",Je)},children:Object(J.jsx)(Pe.a,{})})}),t.componentName===Je&&Object(J.jsx)(tt,{children:Object(J.jsx)(ot,{muscleList:S,muscleId:b,handleModal:k})}),t.componentName===Ve&&Object(J.jsx)(tt,{modalSize:"md",children:n?Object(J.jsx)(Et,{muscleId:b,componentModalName:Ve}):Object(J.jsx)(lt,{})})]})})},_t=function(){var e=Object(G.b)(),t=Object(a.useState)(""),n=Object(ge.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(!1),i=Object(ge.a)(s,2),o=i[0],l=i[1];return Object(J.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n,a=document.getElementById("muscleName").value.trim(),r=document.getElementById("image").files[0];a?r?(l(!0),e((n={name:a,image:r},function(){var e=Object(Q.a)(K.a.mark((function e(t){var a,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te(ue,n);case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,a.ok?(n.id=r.muscleId,n.imageUrl=r.imageUrl,n.imageName=r.imageName,delete n.image,t(je(n)),t(B("success","Muscle added",!0))):t(B("error",r.error,!0)),t(ae(!1)),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),t(B("error",e.t0.message,!0)),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}()))):e(B("error","The image is required",!0)):c("Invalid muscle name")},children:[Object(J.jsx)(ke.a,{size:"small",id:"muscleName",name:"muscleName",required:!0,fullWidth:!0,label:"Muscle name",helperText:r,error:!!r,autoFocus:!0}),Object(J.jsx)("div",{className:"m-y--1",children:Object(J.jsx)(it,{id:"image",name:"image"})}),Object(J.jsxs)(nt.a,{direction:"row",spacing:2,justifyContent:"flex-end",className:"m-t--2",children:[Object(J.jsx)(Se.a,{variant:"contained",color:"info",onClick:function(){return e(ae(!1))},children:"Cancel"}),Object(J.jsx)(at.a,{loading:o,loadingPosition:"end",variant:"contained",endIcon:Object(J.jsx)(ct.a,{}),color:"success",type:"submit",children:"Save"})]})]})},Ut=function(e){var t=e.muscle,n=e.editMode,a=void 0!==n&&n;return Object(J.jsx)("div",{className:"card card--md",children:a?Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)("img",{src:t.imageUrl?t.imageUrl:"".concat("/workouts-app-frontend","/img/default.jpg"),alt:t.imageName}),Object(J.jsx)("div",{className:"card__title",children:Object(J.jsx)("p",{children:t.name})})]}):Object(J.jsxs)(Y.b,{to:"/exercises",children:[Object(J.jsx)("img",{src:t.imageUrl?t.imageUrl:"".concat("/workouts-app-frontend","/img/default.jpg"),alt:t.imageName}),Object(J.jsx)("div",{className:"card__title",children:Object(J.jsx)("p",{children:t.name})})]})})},At=n(576),Wt=n(563),Lt=n(597),Dt=n(502),Ft=n(591),Mt=n(605),Pt=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.muscles.current})),n=Object(a.useState)(""),r=Object(ge.a)(n,2),c=r[0],s=r[1],i=Object(a.useState)(!1),o=Object(ge.a)(i,2),l=o[0],u=o[1],d=Object(a.useState)(null),j=Object(ge.a)(d,2),m=j[0],b=j[1],x=Object(a.useState)(!1),O=Object(ge.a)(x,2),p=O[0],h=O[1],f=Object(a.useState)(t.name),g=Object(ge.a)(f,2),v=g[0],y=g[1],w=function(){h(!p),e(ae(!0,p?"Edit muscle":'Delete muscle "'.concat(t.name,'"'),Ge))};return p?Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Ct,{handleCancel:w,handleDelete:function(){null!==m?e(function(e,t,n){return function(){var a=Object(Q.a)(K.a.mark((function a(r){var c,s,i;return K.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,ee("".concat(ue,"/").concat(e),{imageUrl:t,deleteExercises:n},"DELETE");case 3:if(!(c=a.sent).ok){a.next=10;break}r(be(e)),r(B("success","Muscle deleted",!0)),r(ae(!1)),a.next=15;break;case 10:return a.next=12,c.json();case 12:s=a.sent,i=s.error,r(B("error",i,!0));case 15:a.next=21;break;case 17:a.prev=17,a.t0=a.catch(0),console.log(a.t0),r(B("error",a.t0.message,!0));case 21:case"end":return a.stop()}}),a,null,[[0,17]])})));return function(e){return a.apply(this,arguments)}}()}(t.id,t.imageUrl,m)):s("Select an option")},children:Object(J.jsxs)(Te.a,{component:"fieldset",error:!!c,children:[Object(J.jsxs)(Wt.a,{component:"legend",children:['Delete all exercises associated with "',t.name,'"?']}),Object(J.jsxs)(Lt.a,{row:!0,"aria-label":"delete muscle exercises",onChange:function(e){"true"===e.target.value?b(!0):b(!1),s("")},children:[Object(J.jsx)(Dt.a,{id:"fclDeleteExercisesNo",value:!1,control:Object(J.jsx)(Ft.a,{}),label:"No"}),Object(J.jsx)(Dt.a,{id:"fclDeleteExercisesYes",value:!0,control:Object(J.jsx)(Ft.a,{}),label:"Yes"})]}),Object(J.jsx)(Mt.a,{children:c})]})})}):Object(J.jsxs)("form",{onSubmit:function(n){if(n.preventDefault(),v.trim()){u(!0);var a,r=document.getElementById("image").files[0];t.name=v.trim(),t.newImage=r,e((a=t,function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te("".concat(ue,"/").concat(a.id),a,"PUT");case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,n.ok?(a.newImage&&(a.imageUrl=r.imageUrl,a.imageName=r.imageName,delete a.newImage),t(me(a)),t(B("success","Muscle updated",!0)),t(ae(!1))):t(B("error",r.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t(B("error",e.t0.message,!0));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))}else s("Invalid muscle name")},className:"modal-details",children:[Object(J.jsx)("div",{className:"modal-details__image-section",children:Object(J.jsx)("img",{src:t.imageUrl?t.imageUrl:"".concat("/workouts-app-frontend","/img/default.jpg"),alt:t.imageName})}),Object(J.jsxs)("div",{className:"modal-details__form-section",children:[Object(J.jsxs)("div",{children:[Object(J.jsx)(ke.a,{size:"small",id:"muscleName",name:"muscleName",required:!0,fullWidth:!0,value:v,onChange:function(e){return y(e.target.value)},label:"Muscle name",helperText:c,error:!!c,autoFocus:!0}),Object(J.jsx)(it,{id:"image",name:"image",currentImageName:t.imageName})]}),Object(J.jsxs)(nt.a,{direction:{xs:"column",sm:"row"},justifyContent:"space-between",spacing:2,children:[Object(J.jsx)(Se.a,{variant:"contained",endIcon:Object(J.jsx)(Nt.a,{}),color:"error",size:"small",onClick:function(){return w()},children:"Delete"}),Object(J.jsxs)(nt.a,{direction:{xs:"column",sm:"row"},spacing:2,children:[Object(J.jsx)(Se.a,{variant:"contained",color:"info",onClick:function(){return e(ae(!1))},size:"small",children:"Cancel"}),Object(J.jsx)(at.a,{loading:l,loadingPosition:"end",variant:"contained",endIcon:Object(J.jsx)(St.a,{}),color:"success",type:"submit",size:"small",children:"Update"})]})]})]})]})},Tt=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.muscles})),n=t.muscleList,r=t.loading,c=Object(G.c)((function(e){return e.auth.user})).isAdmin,s=Object(G.c)((function(e){return e.modal})),i=Object(a.useState)(!1),o=Object(ge.a)(i,2),l=o[0],u=o[1];Object(a.useEffect)((function(){0===n.length&&e(function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,$(ue);case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,n.ok?t({type:x,payload:a}):t(de(a.error)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t(de(e.t0.message)),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[e,n]),Object(a.useEffect)((function(){n.length>0&&localStorage.setItem("muscleList",JSON.stringify(n))}),[n]);var d=l?{color:"white",bgcolor:"#FE4343","&:hover":{bgcolor:"#DF0000"}}:{color:"white",bgcolor:"#109EB4","&:hover":{bgcolor:"#1087B4"}},j=function(t){e({type:m,payload:t}),l&&e(ae(!0,"Edit muscle",Ge))};return r?Object(J.jsx)("h1",{children:"Loading..."}):Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(we.a,{variant:"h4",textAlign:"center",margin:3,children:"Muscles"}),Object(J.jsx)("div",{className:"card-grid-container",children:n.map((function(e){return Object(J.jsx)("div",{onClick:function(){return j(e)},children:Object(J.jsx)(Ut,{muscle:e,editMode:l})},e.id)}))}),c&&Object(J.jsxs)(nt.a,{direction:"column",spacing:1,sx:{position:"fixed",bottom:function(e){return e.spacing(2)},right:function(e){return e.spacing(2)}},children:[Object(J.jsx)(De.a,{title:l?"Cancel editing":"Edit muscle",children:Object(J.jsx)(Fe.a,{sx:Object(fe.a)({},d),"aria-label":"edit",onClick:function(){u(!l),e(B("info","Select a muscle to edit it",!l))},children:l?Object(J.jsx)(et.a,{}):Object(J.jsx)(At.a,{})})}),Object(J.jsx)(De.a,{title:"Add new muscle",children:Object(J.jsx)(Fe.a,{color:"primary","aria-label":"edit",onClick:function(){return e(ae(!0,"Add new muscle",Be))},children:Object(J.jsx)(Pe.a,{})})})]}),s.componentName===Be&&Object(J.jsx)(tt,{children:Object(J.jsx)(_t,{})}),s.componentName===Ge&&Object(J.jsx)(tt,{modalSize:"md",children:Object(J.jsx)(Pt,{})})]})},zt=function(e){return{type:E,payload:e}},Rt=function(e){return{type:W,payload:e}},qt=n(300),Bt=n.n(qt),Gt=function(e){var t=e.onClickFunction,n=e.tooltipText,a=void 0===n?"Add":n;return Object(J.jsx)(De.a,{title:a,children:Object(J.jsx)(Fe.a,{onClick:t,sx:{position:"fixed",bottom:function(e){return e.spacing(2)},right:function(e){return e.spacing(2)}},color:"primary","aria-label":"add",children:Object(J.jsx)(Bt.a,{})})})},Jt={name:null,lastname:null,email:null,role_id:null,password:null,confirmPassword:null},Vt=function(e){var t=e.user,n=Object(G.b)(),r=Object(G.c)((function(e){return e.user})).roles,c=Object(a.useState)(Jt),s=Object(ge.a)(c,2),i=s[0],o=s[1],l=function(e){var n=!1,a=Object(fe.a)({},Jt);return""===e.name&&(a.name="Invalid user name",n=!0),""===e.lastname&&(a.lastname="Invalid last name",n=!0),""===e.email&&(a.email="Invalid email",n=!0),"0"===e.role_id&&(a.role_id="Select a valid role",n=!0),t||(""===e.password?(a.password="Invalid password",n=!0):e.password!==e.confirmPassword&&(a.confirmPassword="Passwords must match",n=!0)),o(a),!n};return Object(a.useEffect)((function(){r||n(function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee("user/roles");case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,n.ok?t({type:_,payload:a}):t(B("error",a.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t(B("error",e.t0.message,!1)),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[n,r]),Object(J.jsxs)(Ie.a,{component:"form",container:!0,spacing:2,onSubmit:function(e){e.preventDefault();var a=new FormData(e.currentTarget),r={name:a.get("name").trim(),lastname:a.get("lastname").trim(),email:a.get("email").trim(),role_id:a.get("role_id")};t||(r.password=a.get("password"),r.confirmPassword=a.get("confirmPassword")),l(r)&&(t?n(function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n){var a,r;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee("user/".concat(e.id),e,"PUT");case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,a.ok?(n({type:A,payload:e}),n(B("success","User updated",!0))):n(B("error",r.error,!0)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),n(B("error",t.t0.message,!1)),console.log("error",t.t0);case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(Object(fe.a)(Object(fe.a)({},r),{},{id:t.id}))):(delete r.confirmPassword,n(function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n){var a,r;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee("user/new",e,"POST");case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,a.ok?(n((c=Object(fe.a)(Object(fe.a)({},e),{},{id:r.userId}),{type:I,payload:c})),n(B("success","User added",!0))):n(B("error",r.error,!0)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),n(B("error",t.t0.message,!1)),console.log("error",t.t0);case 14:case"end":return t.stop()}var c}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(r))),n(ae()))},sx:{marginTop:"0.5rem"},children:[Object(J.jsx)(Ie.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(ke.a,{defaultValue:null===t||void 0===t?void 0:t.name,error:!!i.userName,fullWidth:!0,helperText:i.userName,label:"User name",name:"name",required:!0,size:"small"})}),Object(J.jsx)(Ie.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(ke.a,{defaultValue:null===t||void 0===t?void 0:t.lastname,error:!!i.lastname,fullWidth:!0,helperText:i.lastname,label:"Last name",name:"lastname",required:!0,size:"small"})}),Object(J.jsx)(Ie.a,{item:!0,xs:12,children:Object(J.jsx)(ke.a,{defaultValue:null===t||void 0===t?void 0:t.email,error:!!i.email,fullWidth:!0,helperText:i.email,label:"Email",name:"email",required:!0,size:"small",type:"email"})}),Object(J.jsx)(Ie.a,{item:!0,xs:12,children:Object(J.jsxs)(Te.a,{fullWidth:!0,error:!!i.role_id,children:[Object(J.jsx)(ze.a,{children:"Role *"}),r&&Object(J.jsxs)(Re.a,{required:!0,size:"small",defaultValue:t?t.role_id:0,name:"role_id",label:"Role *",children:[Object(J.jsx)(qe.a,{value:0,children:"Select role"}),r.map((function(e){return Object(J.jsx)(qe.a,{value:e.id,children:e.role},e.id)}))]}),Object(J.jsx)(Mt.a,{children:i.role_id})]})}),!t&&Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(Ie.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(ke.a,{error:!!i.password,fullWidth:!0,helperText:i.password,label:"Password",name:"password",required:!0,size:"small",type:"password"})}),Object(J.jsx)(Ie.a,{item:!0,xs:12,sm:6,children:Object(J.jsx)(ke.a,{error:!!i.confirmPassword,fullWidth:!0,helperText:i.confirmPassword,label:"Confirm password",name:"confirmPassword",required:!0,size:"small",type:"password"})})]}),Object(J.jsx)(Ie.a,{item:!0,xs:12,sx:{marginTop:"2rem"},children:Object(J.jsxs)(nt.a,{direction:"row",spacing:2,justifyContent:"flex-end",children:[Object(J.jsx)(Se.a,{variant:"contained",color:"info",onClick:function(){return n(ae(!1))},children:"Cancel"}),Object(J.jsx)(Se.a,{variant:"contained",endIcon:Object(J.jsx)(St.a,{}),color:"success",type:"submit",children:"Save"})]})})]})},Yt=n(604),Xt=n(578),Ht=n(592),Kt=n(577),Qt=n(302),Zt=n.n(Qt),$t=n(301),en=n.n($t),tn=function(e){var t=e.handleEdit,n=e.handleDelete,r=e.filterWord,c=void 0===r?"":r,s=Object(G.b)(),i=Object(G.c)((function(e){return e.user})).users;return Object(a.useEffect)((function(){i||s(function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee("user");case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,n.ok?t({type:U,payload:a}):t(B("error",a.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),t(B("error",e.t0.message,!1)),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[s,i]),Object(J.jsx)(J.Fragment,{children:i?Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Yt.a,{sx:{maxWidth:"1300px",width:"95%",margin:"0 auto"},children:i.map((function(e,a){return-1!==e.name.search(new RegExp(c,"i"))&&Object(J.jsxs)("div",{children:[Object(J.jsxs)(Ht.a,{children:[Object(J.jsx)(Kt.a,{primary:"".concat(e.name," ").concat(e.lastname),secondary:e.email}),Object(J.jsx)(jt.a,{onClick:function(){return t(e)},"aria-label":"delete-user",variant:"contained",color:"info",children:Object(J.jsx)(en.a,{})}),Object(J.jsx)(jt.a,{"aria-label":"delete-user",variant:"contained",color:"error",onClick:function(){return n(e)},children:Object(J.jsx)(Zt.a,{})})]}),Object(J.jsx)(Xt.a,{})]},a)}))})}):Object(J.jsx)("p",{children:" Loading..."})})},nn=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.modal})).componentName,n=Object(G.c)((function(e){return e.user})).currentUser,r=Object(a.useState)(""),c=Object(ge.a)(r,2),s=c[0],i=c[1],o=function(){e(ae())};return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(we.a,{variant:"h4",textAlign:"center",marginY:3,children:"Manage users"}),Object(J.jsx)("div",{className:"flex-box",style:{justifyContent:"center"},children:Object(J.jsx)(ke.a,{size:"small",label:"Search",onChange:function(e){var t=e.target.value.replace(/\\/g,"\\\\");i(t)},placeholder:"Filter",variant:"outlined",InputProps:{startAdornment:Object(J.jsx)(Ne.a,{position:"end",children:Object(J.jsx)(Me.a,{})})}})}),Object(J.jsx)(tn,{filterWord:s,handleEdit:function(t){e(zt(t)),e(ae(!0,"Edit user",Ze))},handleDelete:function(t){e(zt(t)),e(ae(!0,"Delete user",$e))}}),Object(J.jsx)(Gt,{onClickFunction:function(){e(ae(!0,"Add user",Qe))},tooltipText:"Add new user"}),t===Qe&&Object(J.jsx)(tt,{children:Object(J.jsx)(Vt,{})}),t===Ze&&Object(J.jsx)(tt,{children:Object(J.jsx)(Vt,{user:n})}),t===$e&&Object(J.jsx)(tt,{children:Object(J.jsx)(Ct,{handleCancel:o,handleDelete:function(){var t;e((t=n.id,function(){var e=Object(Q.a)(K.a.mark((function e(n){var a,r;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee("user/".concat(t),{},"DELETE");case 3:return a=e.sent,e.next=6,a.json();case 6:r=e.sent,a.ok?(n(Rt(t)),n(B("success","User deleted",!0))):n(B("error",r.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),n(B("error",e.t0.message,!1)),console.log("error",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())),o()},children:Object(J.jsxs)(l.a,{severity:"warning",children:["Are you sure you want to delete the user"," ",Object(J.jsxs)("b",{children:[n.name," ",n.lastname]})," ","and all its associated data (workouts)?"]})})})]})},an="workout",rn=function(e){return{type:q,payload:e}},cn=function(e){return{type:F,payload:e}},sn=function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n){var a,r;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ee("".concat(an,"/my-workouts/").concat(e));case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,a.ok?n(cn(r)):(n(jn()),n(B("error",r.error,!0)),console.log(r.error)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0),n(B("error",t.t0.message,!0));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},on=function(e){return{type:M,payload:e}},ln=function(e){return{type:D,payload:e}},un=function(e){return{type:P,payload:e}},dn=function(e){return{type:T,payload:e}},jn=function(){return{type:u}},mn=n(609),bn=n(612),xn=n(611),On=n(610),pn=function(e){var t=e.exercise;return Object(J.jsx)(mn.a,{sx:{width:320,margin:"1rem"},children:Object(J.jsxs)(On.a,{children:[Object(J.jsx)(xn.a,{component:"img",height:"300",image:t.imageUrl?t.imageUrl:"".concat("/workouts-app-frontend","/img/defaultWorkout.jpg"),alt:t.imageName?t.imageName:t.name}),Object(J.jsxs)(bn.a,{children:[Object(J.jsx)(we.a,{gutterBottom:!0,variant:"h5",component:"div",children:t.name}),Object(J.jsx)(we.a,{variant:"body2",color:"text.secondary",children:t.description})]})]})})},hn=function(){var e=Object(G.b)(),t=Object(X.h)().workoutName,n=Object(G.c)((function(e){return e.workouts})).currentWorkoutExercises,r=n.length,c=Object(G.c)((function(e){return e.modal}));Object(a.useEffect)((function(){0===n.length&&e(sn(t))}),[e,t,n]);return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)(we.a,{variant:"h4",textAlign:"center",margin:3,children:[Object(J.jsx)("b",{children:t})," workout"]}),Object(J.jsxs)(we.a,{variant:"h5",component:"p",textAlign:"right",children:[r," Exercise(s)"]}),Object(J.jsxs)("div",{className:"export-data-buttons-area",children:[Object(J.jsx)(vt,{dataSource:"exercises",data:n,fileName:"".concat(t," workout"),sheetName:t}),Object(J.jsx)(kt,{exercises:n,totalExercises:r,fileName:t})]}),Object(J.jsx)("div",{className:"card-flex-container",children:n.map((function(t,n){return Object(J.jsx)("div",{onClick:function(){return e(ie(n=t)),void e(ae(!0,n.name,Ke));var n},children:Object(J.jsx)(pn,{exercise:t})},"".concat(n,"-").concat(t.name))}))}),c.componentName===Ke&&Object(J.jsx)(tt,{modalSize:"md",children:Object(J.jsx)(lt,{exerciseList:n,componentModalName:Ke})})]})},fn=n(17),gn=n(601),vn=n(590),yn=n(613),wn=Object(a.memo)((function(e){var t=e.muscleList,n=Object(G.b)(),r=Object(a.useState)(1),c=Object(ge.a)(r,2),s=c[0],i=c[1];return Object(a.useEffect)((function(){n(ce(0===s?0:t[s-1].id))}),[n,s,t]),Object(J.jsxs)(vn.a,{variant:"scrollable",value:s,onChange:function(e,t){i(t)},"aria-label":"Vertical tabs example",sx:{borderRight:1,borderColor:"divider"},children:[Object(J.jsx)(yn.a,{label:"All"},"tab-all"),t.map((function(e,t){return Object(J.jsx)(yn.a,{label:e.name},"tab-".concat(e.name))}))]})})),kn=n(303),Nn=n(603),Sn=[{field:"exerciseName",headerName:"Exercise name",width:150},{field:"exerciseDescription",headerName:"Description",width:250}],Cn=r.a.memo((function(e){var t=e.handleAdd,n=Object(G.c)((function(e){return e.exercises})).exerciseList,r=Object(a.useState)({}),c=Object(ge.a)(r,2),s=c[0],i=c[1],o=Object(a.useRef)(),l=n.map((function(e){return{id:e.id,exerciseName:e.name,exerciseDescription:e.description,imageName:e.imageName,imageUrl:e.imageUrl}})),u=Object(a.useState)(null),d=Object(ge.a)(u,2),j=d[0],m=d[1],b=function(){m(null)},x=Boolean(j);return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("div",{style:{height:275},children:[Object(J.jsx)(kn.a,{ref:o,"aria-owns":x?"mouse-over-popover":void 0,"aria-haspopup":"true",rows:l,columns:Sn,pageSize:5,rowsPerPageOptions:[5],disableSelectionOnClick:!0,onCellClick:t,onCellEnter:function(e){m(o.current),i({name:e.row.exerciseName,imageUrl:e.row.imageUrl})},onCellLeave:b,density:"compact"}),Object(J.jsxs)(Nn.a,{id:"mouse-over-popover",sx:{pointerEvents:"none"},open:x,anchorEl:j,anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:b,disableRestoreFocus:!0,children:[Object(J.jsx)(we.a,{sx:{p:1},children:s.name}),Object(J.jsx)("img",{style:{maxWidth:"150px"},src:s.imageUrl,alt:s.imageName})]})]})})})),En=n(5),In=n(598),_n=n(311),Un=Object(En.a)("li")((function(e){return{margin:e.theme.spacing(.5)}})),An=r.a.memo((function(e){var t=e.chips,n=void 0===t?[]:t,a=e.title,r=void 0===a?"":a,c=e.handleDelete;return Object(J.jsxs)(J.Fragment,{children:[!!r&&Object(J.jsx)("p",{children:r}),Object(J.jsx)(_n.a,{sx:{display:"flex",justifyContent:"center",flexWrap:"wrap",listStyle:"none",p:.5,m:0},component:"ul",children:n.map((function(e){return Object(J.jsx)(Un,{children:Object(J.jsx)(In.a,{label:e.label,onDelete:function(){return c(e)}})},e.key)}))})]})})),Wn=function(e){var t=e.action,n=Object(G.b)(),r=Object(G.c)((function(e){return e.workouts})),c=r.currentWorkout,s=r.currentWorkoutExercises,i=Object(a.useState)(s?s.map((function(e,t){return{id:e.id,label:e.name,key:t}})):[]),o=Object(ge.a)(i,2),l=o[0],u=o[1],d=Object(a.useState)(""),j=Object(ge.a)(d,2),m=j[0],b=j[1],x=Object(a.useState)(!1),O=Object(ge.a)(x,2),p=O[0],h=O[1],f=st({name:c.name||"",description:c.description||""}),g=Object(ge.a)(f,2),v=g[0],y=g[1],w=v.name,k=v.description,N=Object(a.useMemo)((function(){return JSON.parse(localStorage.getItem("muscleList"))}),[]),S=Object(a.useCallback)((function(e){u([].concat(Object(fn.a)(l),[{key:Date.now(),label:e.row.exerciseName,id:e.id}]))}),[l]),C=Object(a.useCallback)((function(e){return u(l.filter((function(t){return t.key!==e.key})))}),[l]);return Object(J.jsxs)(nt.a,{component:"form",spacing:2,onSubmit:function(e){e.preventDefault();var a=w.trim(),r=k.trim(),i=document.getElementById("workoutImage").files[0];if(a)if(b(""),0!==l.length){var o,u=l.map((function(e){return e.id})).join(",");if(h(!0),"add"===t)n((o={name:a,description:r,exerciseIds:u,image:i},function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te(an,o,"POST");case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,n.ok?(o.image&&(o.imageName=a.imageName,o.imageUrl=a.imageUrl,delete o.image),o.id=a.workoutId,t(ln(o)),t(B("success","Workout added",!0)),t(ae(!1))):t(B("error",a.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t(B("error",e.t0.message,!0));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()));else if("update"===t){s.map((function(e){return e.id})).join(",")===u&&(u=null),n(function(e){return function(){var t=Object(Q.a)(K.a.mark((function t(n){var a,r;return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,te("".concat(an,"/").concat(e.id),e,"PUT");case 3:return a=t.sent,t.next=6,a.json();case 6:r=t.sent,a.ok?(e.newImage&&(e.imageName=r.imageName,e.imageUrl=r.imageUrl,delete e.newImage),n(un(e)),n(B("success","Workout updated",!0)),n(ae(!1))):n(B("error",r.error,!0)),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0),n(B("error",t.t0.message,!0));case 14:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}({id:c.id,name:a,description:r,imageName:c.imageName,imageUrl:c.imageUrl,exerciseIds:u,newImage:i}))}}else n(B("error","Select at least one exercise",!0));else b("Invalid workout name")},children:[Object(J.jsxs)(Te.a,{sx:{width:"100%"},error:!!m,children:[Object(J.jsx)(ze.a,{htmlFor:"workoutName",children:"Workout name*"}),Object(J.jsx)(gn.a,{required:!0,id:"workoutName","aria-describedby":"workout-name",name:"name",onChange:y,value:w}),Object(J.jsx)(Mt.a,{id:"my-helper-text",children:m||"Enter a name that describe your workout"})]}),Object(J.jsxs)(Te.a,{sx:{width:"100%"},children:[Object(J.jsx)(ze.a,{htmlFor:"workoutDescription",children:"Description"}),Object(J.jsx)(gn.a,{id:"workoutDescription","aria-describedby":"workout-description",multiline:!0,name:"description",value:k,onChange:y,rows:2})]}),Object(J.jsxs)("div",{children:[Object(J.jsx)(wn,{muscleList:N}),Object(J.jsx)(An,{chips:l,handleDelete:C}),Object(J.jsx)(Cn,{handleAdd:S})]}),Object(J.jsx)("div",{className:"margin-y-1",children:Object(J.jsx)(it,{id:"workoutImage",name:"workoutImage",currentImageName:c.imageName})}),Object(J.jsxs)(nt.a,{direction:"row",spacing:2,justifyContent:"flex-end",children:[Object(J.jsx)(Se.a,{variant:"contained",color:"info",onClick:function(){return n(ae(!1))},children:"Cancel"}),Object(J.jsx)(at.a,{loading:p,loadingPosition:"end",variant:"contained",endIcon:Object(J.jsx)(St.a,{}),color:"success",type:"submit",children:"Save"})]})]})},Ln=n(614),Dn=function(e){var t=e.workout,n=Object(G.b)();return Object(J.jsxs)(mn.a,{sx:{width:320,margin:"1rem"},children:[Object(J.jsx)(On.a,{children:Object(J.jsxs)(Y.b,{style:{textDecoration:"none"},to:"workouts/".concat(t.name),children:[Object(J.jsx)(xn.a,{component:"img",height:"300",image:t.imageUrl?t.imageUrl:"".concat("/workouts-app-frontend","/img/defaultWorkout.jpg"),alt:t.imageName?t.imageName:t.name}),Object(J.jsxs)(bn.a,{children:[Object(J.jsx)(we.a,{gutterBottom:!0,variant:"h6",component:"p",children:t.name}),Object(J.jsx)(we.a,{variant:"body2",color:"text.secondary",children:t.description})]})]})}),Object(J.jsxs)(Ln.a,{sx:{justifyContent:"flex-end"},children:[Object(J.jsx)(Se.a,{size:"small",color:"secondary",endIcon:Object(J.jsx)(Nt.a,{}),onClick:function(){n(ae(!0,"Delete workout",He))},children:"Delete"}),Object(J.jsx)(Se.a,{size:"small",color:"primary",endIcon:Object(J.jsx)(At.a,{}),onClick:function(){n(ae(!0,"Update workout",Xe))},children:"Edit"})]})]})},Fn=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.workouts})),n=t.myWorkouts,r=t.loading,c=t.currentWorkout,s=Object(G.c)((function(e){return e.modal})).componentName;Object(a.useEffect)((function(){e(function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee("".concat(an,"/my-workouts"));case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,n.ok?t({type:L,payload:a}):(t(jn()),t(B("error",a.error,!0))),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t(B("error",e.t0.message,!0));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[e]);var i=function(){var t=Object(Q.a)(K.a.mark((function t(n){return K.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(rn(!0)),e(on(n)),t.next=4,e(sn(n.name));case 4:e(rn(!1));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(J.jsxs)("div",{className:"card-flex-container",children:[n.map((function(e){return Object(J.jsx)("div",{onClick:function(){return i(e)},children:Object(J.jsx)(Dn,{workout:e},e.id)},e.id)})),s===Ye&&Object(J.jsx)(tt,{modalSize:"md2",children:Object(J.jsx)(Wn,{action:"add"})}),s===Xe&&Object(J.jsx)(tt,{modalSize:"md2",children:r?Object(J.jsx)("p",{children:"Loading workout data..."}):Object(J.jsx)(Wn,{action:"update"})}),s===He&&Object(J.jsx)(tt,{children:Object(J.jsx)(Ct,{handleCancel:function(){e(ae(!1))},handleDelete:function(){var t,n;e((t=c.id,n=c.imageUrl,function(){var e=Object(Q.a)(K.a.mark((function e(a){var r,c;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee("".concat(an,"/").concat(t),{id:t,imageUrl:n},"DELETE");case 3:return r=e.sent,e.next=6,r.json();case 6:c=e.sent,r.ok?(a(dn(t)),a(B("success","Workout deleted",!0)),a(ae(!1))):a(B("error",c.error,!0)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),a(B("error",e.t0.message,!0));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()))},children:Object(J.jsxs)(l.a,{severity:"warning",children:["Are you sure you want to delete your workout",Object(J.jsxs)("b",{children:[" ",c.name]}),"?"]})})})]})},Mn=function(){var e=Object(G.b)();return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsx)(we.a,{variant:"h4",textAlign:"center",margin:3,children:"My workouts"}),Object(J.jsx)(Fn,{}),Object(J.jsx)(De.a,{title:"Add new workout",children:Object(J.jsx)(Fe.a,{onClick:function(){e(on({})),e(cn([])),e(ae(!0,"Add new workout",Ye))},sx:{position:"fixed",bottom:function(e){return e.spacing(2)},right:function(e){return e.spacing(2)}},color:"primary","aria-label":"add-workout",children:Object(J.jsx)(Pe.a,{})})})]})},Pn=function(){var e=Object(X.g)(),t=Object(G.c)((function(e){return e.auth})).user;return Object(J.jsx)(J.Fragment,{children:Object(J.jsxs)("div",{children:[Object(J.jsxs)(X.d,{children:[Object(J.jsx)(X.b,{exact:!0,path:"/exercises",component:It}),Object(J.jsx)(X.b,{exact:!0,path:"/muscles",component:Tt}),Object(J.jsx)(X.b,{exact:!0,path:"/workouts",component:Mn}),Object(J.jsx)(X.b,{exact:!0,path:"/workouts/:workoutName",component:hn}),t.isAdmin&&Object(J.jsx)(X.b,{exact:!0,path:"/users",component:nn}),Object(J.jsx)(X.a,{to:"/muscles"})]}),Object(J.jsx)(De.a,{title:"Previous page",children:Object(J.jsx)(Fe.a,{sx:{position:"fixed",bottom:function(e){return e.spacing(2)},left:function(e){return e.spacing(2)}},color:"secondary","aria-label":"return",onClick:function(){return e.goBack()},children:Object(J.jsx)(Le.a,{})})})]})})},Tn=n(147),zn=["isAuthenticated","component"],Rn=function(e){var t=e.isAuthenticated,n=e.component,a=Object(Tn.a)(e,zn);return Object(J.jsx)(X.b,Object(fe.a)(Object(fe.a)({},a),{},{component:function(e){return t?Object(J.jsx)(n,Object(fe.a)({},e)):Object(J.jsx)(X.a,{to:"/login"})}}))},qn=["isAuthenticated","component"],Bn=function(e){var t=e.isAuthenticated,n=e.component,a=Object(Tn.a)(e,qn);return Object(J.jsx)(X.b,Object(fe.a)(Object(fe.a)({},a),{},{component:function(e){return t?Object(J.jsx)(X.a,{to:"/"}):Object(J.jsx)(n,Object(fe.a)({},e))}}))},Gn=n(580),Jn=function(e){var t=e.openCloseSidebar,n=Object(G.b)(),a=Object(G.c)((function(e){return e.auth})).user;return a.id?Object(J.jsxs)("nav",{className:"navbar navbar--fixed",children:[Object(J.jsx)("div",{className:"navbar__icon",children:Object(J.jsx)(jt.a,{onClick:t,children:Object(J.jsx)(Gn.a,{fontSize:"large"})})}),Object(J.jsxs)("div",{className:"navbar__content",children:[Object(J.jsx)("div",{className:"navbar__logo",children:Object(J.jsx)(we.a,{variant:"h4",component:"h2",children:"WorkoutsApp"})}),Object(J.jsx)("div",{className:"navbar__user",children:Object(J.jsxs)("ul",{children:[Object(J.jsx)("li",{children:a.name}),Object(J.jsx)("li",{className:"logout m-x--1",onClick:function(){n(pe())},children:"Logout"})]})})]})]}):Object(J.jsx)("div",{className:"navbar",style:{position:"absolute",display:"block"},children:Object(J.jsx)(we.a,{variant:"h4",component:"h2",children:"WorkoutsApp"})})},Vn=n(581),Yn=n(582),Xn=n(583),Hn=n(584),Kn=[{title:"Muscles",icon:Object(J.jsx)(Vn.a,{}),link:"/muscles"},{title:"Exercises",icon:Object(J.jsx)(Yn.a,{}),link:"/exercises"},{title:"Workouts",icon:Object(J.jsx)(Xn.a,{}),link:"/workouts"}],Qn=[{title:"Users",icon:Object(J.jsx)(Hn.a,{}),link:"/users"}],Zn=n(599),$n=n(308),ea=function(e){var t=e.openSidebar,n=e.openCloseSidebar,a=Object(G.c)((function(e){return e.auth})).user;return Object(J.jsx)(J.Fragment,{children:Object(J.jsx)(Zn.a,{open:t,onClose:n,children:Object(J.jsx)(_e.a,{sx:{width:250},role:"presentation",onClick:n,onKeyDown:n,children:Object(J.jsxs)(Yt.a,{children:[Object(J.jsx)(Ht.a,{children:Object(J.jsx)(Kt.a,{children:Object(J.jsx)(we.a,{variant:"h5",children:"WorkoutsApp"})})}),Object(J.jsx)(Xt.a,{}),Kn.map((function(e,t){return Object(J.jsx)(Y.b,{to:e.link,children:Object(J.jsxs)(Ht.a,{button:!0,children:[Object(J.jsx)($n.a,{children:e.icon}),Object(J.jsx)(Kt.a,{primary:e.title})]})},t)})),a.isAdmin&&Object(J.jsxs)(J.Fragment,{children:[" ",Object(J.jsx)(Xt.a,{}),Object(J.jsx)(Ht.a,{children:Object(J.jsx)(Kt.a,{children:Object(J.jsx)(we.a,{variant:"h6",children:"Management"})})}),Object(J.jsx)(Xt.a,{}),Qn.map((function(e,t){return Object(J.jsx)(Y.b,{to:e.link,children:Object(J.jsxs)(Ht.a,{button:!0,children:[Object(J.jsx)($n.a,{children:e.icon}),Object(J.jsx)(Kt.a,{primary:e.title})]})},t)}))]})]})})})})},ta=function(e){var t=e.children,n=Object(a.useState)(!1),r=Object(ge.a)(n,2),c=r[0],s=r[1],i=Object(G.c)((function(e){return e.auth})).user,o=function(e){("keydown"!==e.type||"Tab"!==e.key&&"Shift"!==e.key)&&s(!c)};return Object(J.jsxs)("div",{children:[Object(J.jsx)(Jn,{openCloseSidebar:o}),i.id&&Object(J.jsx)(ea,{openCloseSidebar:o,openSidebar:c}),Object(J.jsx)("div",{className:"container",children:t})]})},na=function(){var e=Object(G.b)(),t=Object(G.c)((function(e){return e.auth})),n=t.checking,r=t.isLogged;return Object(a.useEffect)((function(){var t=localStorage.getItem("token");e(t?function(){var e=Object(Q.a)(K.a.mark((function e(t){var n,a;return K.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ee("user/renew");case 3:return n=e.sent,e.next=6,n.json();case 6:a=e.sent,n.ok?(localStorage.setItem("token",a.token),a.role_id===ne?a.isAdmin=!0:a.isAdmin=!1,a.id=a.uid,delete a.uid,delete a.token,t(xe(a))):t(Oe()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0),t(B("error","It was no possible to retrieve the data",!0));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}():Oe())}),[e]),n?Object(J.jsx)("h5",{children:"Loading"}):Object(J.jsx)(Y.a,{children:Object(J.jsx)(ta,{children:Object(J.jsxs)(X.d,{children:[Object(J.jsx)(Bn,{exact:!0,path:"/login",isAuthenticated:r,component:Ce}),Object(J.jsx)(Bn,{exact:!0,path:"/register",isAuthenticated:r,component:We}),Object(J.jsx)(Rn,{path:"/",isAuthenticated:r,component:Pn})]})})})},aa=n(108),ra=n(305),ca={muscleList:[],loading:!0,current:null},sa={exerciseList:[],loading:!0,current:null},ia={users:null,currentUser:null,roles:null},oa={type:"error",message:"",open:!1},la={isOpen:!1,header:"Modal title",componentName:null},ua={myWorkouts:[],loading:!0,currentWorkout:{},currentWorkoutExercises:[]},da={isLogged:!1,user:{},checking:!0},ja=Object(aa.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:da,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(fe.a)(Object(fe.a)({},e),{},{isLogged:!0,user:t.payload,checking:!1});case S:return Object(fe.a)(Object(fe.a)({},e),{},{checking:!1});case C:return Object(fe.a)(Object(fe.a)({},da),{},{checking:!1});default:return e}},muscles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ca,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,muscleList:t.payload});case j:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,error:t.payload});case m:return Object(fe.a)(Object(fe.a)({},e),{},{current:t.payload});case b:return Object(fe.a)(Object(fe.a)({},e),{},{muscleList:[].concat(Object(fn.a)(e.muscleList),[t.payload])});case p:var n=t.payload;return Object(fe.a)(Object(fe.a)({},e),{},{muscleList:e.muscleList.filter((function(e){return e.id!==n}))});case O:var a=t.payload;return Object(fe.a)(Object(fe.a)({},e),{},{muscleList:e.muscleList.map((function(e){return e.id!==a.id?e:a}))});case d:return ca;default:return e}},exercises:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,exerciseList:t.payload});case f:case u:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,error:t.payload});case g:return sa;case v:return Object(fe.a)(Object(fe.a)({},e),{},{exerciseList:[t.payload].concat(Object(fn.a)(e.exerciseList))});case y:return Object(fe.a)(Object(fe.a)({},e),{},{current:t.payload});case w:var n=t.payload;return Object(fe.a)(Object(fe.a)({},e),{},{exerciseList:e.exerciseList.map((function(e){return e.id!==n.id?e:n}))});case k:var a=t.payload;return Object(fe.a)(Object(fe.a)({},e),{},{exerciseList:e.exerciseList.filter((function(e){return e.id!==a}))});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ia,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(fe.a)(Object(fe.a)({},e),{},{currentUser:t.payload});case U:return Object(fe.a)(Object(fe.a)({},e),{},{users:t.payload});case I:return Object(fe.a)(Object(fe.a)({},e),{},{users:[].concat(Object(fn.a)(e.users),[t.payload])});case A:var n=t.payload;return Object(fe.a)(Object(fe.a)({},e),{},{users:e.users.map((function(e){return e.id!==n.id?e:n}))});case W:var a=t.payload;return Object(fe.a)(Object(fe.a)({},e),{},{users:e.users.filter((function(e){return e.id!==a}))});case _:return Object(fe.a)(Object(fe.a)({},e),{},{roles:t.payload});default:return e}},snackbar:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:var n=t.payload,a=n.type,r=n.message,c=n.open;return Object(fe.a)(Object(fe.a)({},e),{},{type:a,message:r,open:c});default:return e}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:la,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:var n=t.payload,a=n.isOpen,r=n.header,c=n.componentName;return Object(fe.a)(Object(fe.a)({},e),{},{isOpen:a,header:r,componentName:c});default:return e}},workouts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,myWorkouts:t.payload});case F:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1,currentWorkoutExercises:t.payload});case M:return Object(fe.a)(Object(fe.a)({},e),{},{currentWorkout:Object(fe.a)({},t.payload)});case D:return Object(fe.a)(Object(fe.a)({},e),{},{myWorkouts:[].concat(Object(fn.a)(e.myWorkouts),[t.payload])});case P:var n=t.payload;return Object(fe.a)(Object(fe.a)({},e),{},{myWorkouts:Object(fn.a)(e.myWorkouts.map((function(e){return e.id!==n.id?e:n})))});case T:var a=t.payload;return Object(fe.a)(Object(fe.a)({},e),{},{myWorkouts:Object(fn.a)(e.myWorkouts.filter((function(e){return e.id!==a})))});case u:return Object(fe.a)(Object(fe.a)({},e),{},{loading:!1});case q:return Object(fe.a)(Object(fe.a)({},e),{},{loading:t.payload});default:return e}}}),ma="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||aa.c,ba=Object(aa.d)(ja,ma(Object(aa.a)(ra.a))),xa=n(77),Oa=n(600),pa=n(585),ha=Object(xa.a)({palette:{primary:{main:"#27C265",contrastText:"#fff"},secondary:{main:"#109EB4",contrastText:"#fff"}}}),fa=function(){return Object(J.jsx)(G.a,{store:ba,children:Object(J.jsxs)(Oa.a,{theme:ha,children:[Object(J.jsx)(pa.a,{}),Object(J.jsx)(V,{}),Object(J.jsx)(na,{})]})})};n(486);s.a.render(Object(J.jsx)(fa,{}),document.getElementById("root")),i()}},[[487,1,2]]]);
//# sourceMappingURL=main.f3674768.chunk.js.map